{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/CollapsibleDiv.vue?4789","webpack:///./src/App.vue","webpack:///./src/components/ManualPreview.vue","webpack:///./src/services/ManualModel.js","webpack:///./src/services/Rollen.js","webpack:///./src/services/ManualTemplate.js","webpack:///./src/services/ManualCreator.js","webpack:///./src/components/VStyle.vue","webpack:///./src/components/VStyle.vue?5a61","webpack:///./src/components/ManualPreview.vue?d688","webpack:///./src/components/CollapsibleDiv.vue","webpack:///./src/components/CollapsibleDiv.vue?04fb","webpack:///./src/components/input/InputField.vue","webpack:///./src/components/input/InputField.vue?f1c8","webpack:///./src/components/input/Button.vue","webpack:///./src/components/input/Button.vue?4250","webpack:///./src/directives/LazyLoadImage.vue","webpack:///./src/directives/LazyLoadImage.vue?7647","webpack:///./src/components/RoleCard.vue","webpack:///./src/components/RoleCard.vue?e701","webpack:///./src/directives/Tooltip.vue","webpack:///./src/directives/Tooltip.vue?dad1","webpack:///./src/App.vue?eabf","webpack:///./src/main.js","webpack:///./src/components/RoleCard.vue?c48e","webpack:///./src/App.vue?a514","webpack:///./src/components/ManualPreview.vue?87ee","webpack:///./src/components/input/InputField.vue?6612"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","id","href","style","class","loading","width","height","src","alt","data-recalc-dims","type","selected","ref","reloadAvailable","rerender","menuVisible","title","icon","second-option","scrollTo","man","zeiten","zeit_beginn_nacht1","zeit_ende_rollen_nacht1","zeit_beginn_nacht2","zeit_ende_rollen_nacht2","zeit_beginn_tag","zeit_beginn_plaedoyer_klaeger","zeit_beginn_plaedoyer_angeklagte","zeit_beginn_abstimmung","zeit_ende_abstimmung","grundlegende_regeln","reden_ausserhalb_des_spiels","eindeutige_beweise","justiz","unschuldsvermutung","amountRoles","scoreColorAlt","totalScore","difficulty","distributionScore","calculateColor","escalationScore","checked","rollen","rollenuebersicht","rollenuebersicht_amount","aktiviert","activatedRolesSorted","role","index","roleTitle","img","roleIcon","removeRole","min","amount","other","prop","options","option","rolesEvil","addRole","rolesGood","rolesUnknown","header","buergermeister","aktiv","toggle","stimme","neuwahl","disabled","spielgruppen","dorfgemeinde","nachtaktiv","jaeger_gruppe","jaegergruppeEnabled","tagaktiv","siegesbedingung","liebespaar_gruppe","checkRole","gute_geister","kommunizieren","aufdecken","raten","boese_geister","collapsed","sonderregeln","extra","placeholder","text","removeArray","addExtra","errorContainerColor","errors","error","errorClasses","errorIcon","msg","replaceAll","summary","getErrorHTML","print","exportMarkdown","exportJSON","autoReload","autoSave","loadStandard","bgImg","manualHtml","Manual","geteiltes_plaedoyer","werwolf_gruppe","applyTo","from","to","undefined","keys","entry","this","Handlebars","require","Attitude","GOOD","EVIL","UNKNOWN","renderTemplate","compile","template","root","ManualCreator","createContext","yaml","registerHelper","parseInt","local","fn","raw","context","shouldDo","ret","currentVersion","defaults","ready","ReplaySubject","loadTemplates","Promise","all","fetch","then","res","results","parseYAMLRoles","load","manual","Rollen","console","log","updateRoleTemplates","next","yamlData","parsed","roles","loadModel","json","createMarkdown","save","saveToLocalStorage","done","model","good","filter","attitude","evil","unknown","updatedRole","find","score","escalation","fixModel","loadFromLocalStorage","JSON","parse","localStorage","getItem","upgradeManual","resolve","setItem","stringify","checkForMistakes","level","jaegerIncluded","jaegerhundIncluded","worst","best","y","Math","max","scoreColor","invert","color","base","low","high","version","Error","render","$slots","created","components","VStyle","mounted","subscribe","v","methods","converter","showdown","tables","makeHtml","el","document","getElementById","querySelectorAll","scrollIntoView","behavior","isCollapsed","noTransition","containerHeight","onResize","secondOption","$emit","props","String","Boolean","default","headerHeight","contentHeight","resizeObserver","mutationObserver","$refs","clientHeight","ResizeObserver","entries","target","classList","contains","setTimeout","observe","classContainer","label","isFocused","emits","computed","focused","focus","input","__scopeId","binding","doLazyLoad","updated","url","lazyLoadImage","add","nodeName","backgroundImage","reject","Image","onload","onerror","CollapsibleDiv","init","cursor","content","toString","hideOnClick","directives","LazyLoadImage","Tooltip","RoleCard","Button","InputField","ManualPreview","allRoles","assignListeners","parts","location","pathname","split","watch","newVal","allRoleNames","map","sort","r1","r2","i1","findIndex","i2","forEach","dataset","addEventListener","ev","roleAttitude","existingRole","array","val","floorAt","Infinity","isNaN","auto","e","background","exportPdf","Blob","tabs","getSummary","obj","reload","num","decimal","f","pow","floor","str","repl","replace","RegExp","createApp","App","mount"],"mappings":"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","file":"js/app.54936b92.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/werwolf-telegram/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CollapsibleDiv.vue?vue&type=style&index=0&id=0981b8f8&lang=less\"","<template>\n\n\n  <div id=\"mainContent\">\n\n    <a href=\"https://github.com/walamana/werwolf-telegram\" style=\"position: fixed; top: 0; left: 0\" class=\"printHide\">\n      <img loading=\"lazy\" width=\"149\" height=\"149\" src=\"https://github.blog/wp-content/uploads/2008/12/forkme_left_white_ffffff.png?resize=149%2C149\" class=\"attachment-full size-full\" alt=\"Fork me on GitHub\" data-recalc-dims=\"1\">\n    </a>\n\n    <div id=\"previewContainer\">\n      <manual-preview id=\"preview\" ref=\"preview\"/>\n    </div>\n\n    <div id=\"fab\" class=\"printHide\" :class=\"{hidden: !reloadAvailable}\" @click=\"rerender(false)\">\n      <i class=\"material-icons\">autorenew</i>\n    </div>\n\n\n    <i id=\"settingsToggle\" :class=\"{dark: !menuVisible}\"  class=\"material-icons\" @click=\"menuVisible = !menuVisible\">menu</i>\n    <div :class=\"{visible: menuVisible}\" class=\"settings\">\n\n      <h2 style=\"margin-left: 20px\">Einstellungen</h2>\n\n<!--       1. Einführung -->\n      <collapsible-div title=\"1. Einführung\" icon=\"info_outline\" second-option=\"visibility\" @option=\"scrollTo(1)\">\n\n\n        <input type=\"checkbox\"><label>Einführungstext</label>\n\n      </collapsible-div>\n\n\n<!--       2. Zeitlicher Ablauf des Spiels -->\n      <collapsible-div title=\"2. Zeitlicher Ablauf des Spiels\" icon=\"alarm\" second-option=\"visibility\" @option=\"scrollTo(2)\">\n        <input class=\"times\" type=\"text\" v-model=\"man.zeiten.zeit_beginn_nacht1\"> Uhr Beginn der Nacht Teil 1<br>\n        <input class=\"times\" type=\"text\" v-model=\"man.zeiten.zeit_ende_rollen_nacht1\"> Uhr Entscheidung der Nachtrollen<br>\n        <input class=\"times\" type=\"text\" v-model=\"man.zeiten.zeit_beginn_nacht2\"> Uhr Beginn der Nacht Teil 2<br>\n        <input class=\"times\" type=\"text\" v-model=\"man.zeiten.zeit_ende_rollen_nacht2\"> Uhr Entscheidung der Sondernachtrollen<br><span class=\"helptext\">Die Hexe, der infizierte Wolf, ...</span><br><br>\n        <input class=\"times\" type=\"text\" v-model=\"man.zeiten.zeit_beginn_tag\"> Uhr Beginn des Tags<br>\n        <input class=\"times\" type=\"text\" v-model=\"man.zeiten.zeit_beginn_plaedoyer_klaeger\"> Uhr Beginn der Plädoyers der Kläger<br>\n        <input class=\"times\" type=\"text\" v-model=\"man.zeiten.zeit_beginn_plaedoyer_angeklagte\"> Uhr Beginn der Plädoyers der Angeklagten<br>\n        <input class=\"times\" type=\"text\" v-model=\"man.zeiten.zeit_beginn_abstimmung\"> Uhr Beginn der Abstimmung<br>\n        <input class=\"times\" type=\"text\" v-model=\"man.zeiten.zeit_ende_abstimmung\"> Uhr Ende der Abstimmung<br>\n      </collapsible-div>\n\n\n<!--      3. Grundlegende Regeln-->\n      <collapsible-div title=\"3. Grundlegende Regeln\" icon=\"subject\" second-option=\"visibility\" @option=\"scrollTo(3)\">\n        <input type=\"checkbox\" @click.stop v-model=\"man.grundlegende_regeln.reden_ausserhalb_des_spiels\"/><label>Reden außerhalb des Spiels erlaubt<br><span class=\"helptext\">Über Geschehnisse des Spielverlaufs</span></label><br>\n        <input type=\"checkbox\" @click.stop v-model=\"man.grundlegende_regeln.eindeutige_beweise\"/><label>Eindeutige Beweise erlaubt<br><span class=\"helptext\">Screenshots, Weiterleitungen, ...</span></label><br>\n      </collapsible-div>\n\n\n<!--      4. Justiz in der Dorfgemeinschaft-->\n      <collapsible-div title=\"4. Justiz in der Dorfgemeinschaft\" icon=\"gavel\" second-option=\"visibility\" @option=\"scrollTo(4)\">\n        <input type=\"checkbox\" @click.stop v-model=\"man.justiz.unschuldsvermutung\"/><label>Unschuldsvermutung <br><span class=\"helptext\">Keine Abstimmung bei lediglich einem Angeklagten</span></label><br>\n<!--        <input checked type=\"checkbox\" @click.stop v-model=\"man.justiz.geteiltes_plaedoyer\"/><label>Geteiltes Plädoyer <br><span class=\"helptext\">Erste Hälfte Kläger, letzte Hälfte Angeklagte</span></label><br>-->\n      </collapsible-div>\n\n\n<!--      5. Rollen in der Dorfgemeinschaft-->\n      <collapsible-div title=\"5. Rollen in der Dorfgemeinschaft\" icon=\"person_outline\" second-option=\"visibility\" @option=\"scrollTo(5)\">\n        <h3>Balancing:</h3>\n        <div class=\"balancings\">\n          <div class=\"headers\">\n            <span class=\"header\">Anzahl</span>\n            <span class=\"header\">Schwierigkeit <i class=\"material-icons\" v-tooltip=\"'Böse Rollen verringern diesen Wert. Für ein faires Spiel sollte die Zahl um 0 liegen.'\">info_outline</i></span>\n            <span class=\"header\">Verteilung <i class=\"material-icons\" v-tooltip=\"'Auf einen Werwolf kommen x gutgesinnte Figuren.'\">info_outline</i></span>\n            <span class=\"header\">Eskalation <i class=\"material-icons\" v-tooltip=\"'Um so höher dieser Wert ist, um so eskalativ kann die Runde sein, also um so mehr Ereignisse / Tode können geschehen'\">info_outline</i></span>\n          </div>\n          <div class=\"body\">\n            <div class=\"item\">\n              <span class=\"amount-roles\">{{amountRoles()}}</span>\n            </div>\n            <div class=\"item\">\n              <span class=\"amount-roles\" :style=\"{ background: scoreColorAlt(totalScore())}\">{{totalScore()}}</span>\n              <span class=\"description\" >{{difficulty()}}</span>\n            </div>\n            <div class=\"item\">\n              <span class=\"amount-roles distribution-score\"\n                    :style=\"{ background: distributionScore() < 0 ? 'rgba(255, 255, 255, 0.3)' : calculateColor(distributionScore(), 1.5, 3.5)}\">{{distributionScore() < 0 ? \"?\" : distributionScore()}}</span>\n            </div>\n            <div class=\"item\">\n              <span class=\"amount-roles\" :style=\"{ background: calculateColor(-escalationScore(), -10, 10)}\">{{escalationScore()}}</span>\n            </div>\n          </div>\n        </div>\n        <div style=\"padding: 10px; display: flex; align-items: center\">\n          <div style=\"width: 10px; height: 10px; background: hsla(200, 100%, 50%, 0.5); margin-right: 10px; border-radius: 5px\"></div><span style=\"margin-right: 20px; font-size: 14px; opacity: 0.7\">Zu leicht</span>\n          <div style=\"width: 10px; height: 10px; background: hsla(100, 100%, 50%, 0.5); margin-right: 10px; border-radius: 5px\"></div><span style=\"margin-right: 20px; font-size: 14px; opacity: 0.7\">Gut balanciert</span>\n          <div style=\"width: 10px; height: 10px; background: hsla(0, 100%, 50%, 0.5); margin-right: 10px; border-radius: 5px\"></div><span style=\"margin-right: 20px; font-size: 14px; opacity: 0.7\">Zu schwer</span>\n        </div>\n        <br>\n        <input checked type=\"checkbox\" @click.stop v-model=\"man.rollen.rollenuebersicht\"/><label>Rollenübersicht anzeigen</label><br>\n        <input checked type=\"checkbox\" @click.stop v-model=\"man.rollen.rollenuebersicht_amount\"/><label>Anzahl in Rollenüberischt berücksichtigen</label><br>\n        <h3>Aktivierte Rollen:</h3>\n        <i v-if=\"this.man.rollen.aktiviert.length === 0\">Keine Rollen hinzugefügt!</i>\n        <div class=\"roles-list\">\n          <collapsible-div\n              v-for=\"(role, index) in activatedRolesSorted\"\n              :title=\"roleTitle(role)\"\n              :img=\"roleIcon(role)\"\n              second-option=\"delete\"\n              @option=\"removeRole(index)\">\n            <input @input=\"rerender\" min=\"1\" type=\"number\" v-model.number=\"role.amount\"> <label>Anzahl</label><br>\n\n<!--            Properties-->\n            <template v-for=\"prop in role.other\">\n\n              <template v-if=\"prop.type === 'number'\">\n                <input @input=\"rerender\" min=\"1\" type=\"number\" v-model.number=\"prop.value\"> <label>{{ prop.name }}</label><br>\n              </template>\n              <template v-if=\"prop.type === 'time'\">\n                <input @input=\"rerender\" class=\"times\" type=\"text\"  v-model=\"prop.value\"> Uhr <label>{{ prop.name }}</label><br>\n              </template>\n              <template v-if=\"prop.type === 'toggle'\">\n                <input @input=\"rerender\" type=\"checkbox\" @click.stop  v-model=\"prop.value\"><label>{{ prop.name }}</label><br>\n              </template>\n              <template v-if=\"prop.type === 'option'\">\n                <span>{{ prop.name }}:<br></span>\n                <template v-for=\"option in prop.options\">\n                  <input\n                      :value=\"option\"\n                      type=\"radio\"\n                      @click.stop\n                      v-model=\"prop.value\"\n                      />\n                  <label>{{ option }}</label><br>\n                </template>\n              </template>\n\n            </template>\n          </collapsible-div>\n        </div>\n        <h3>Alle Rollen Rollen:</h3>\n\n        <collapsible-div class=\"collapse-container\" title=\"Böse Gesinnung\" icon=\"thumb_down\">\n          <role-card\n              @add-role=\"addRole(role)\"\n              v-for=\"(role, index) in rolesEvil\" :role=\"role\"/>\n        </collapsible-div>\n\n        <collapsible-div class=\"collapse-container\"  title=\"Gute Gesinnung\" icon=\"thumb_up\">\n          <role-card\n              @add-role=\"addRole(role)\"\n              v-for=\"(role, index) in rolesGood\" :role=\"role\"/>\n        </collapsible-div>\n\n        <collapsible-div class=\"collapse-container\"  title=\"Unbekannte Gesinnung\" icon=\"help_outlined\">\n          <role-card\n              @add-role=\"addRole(role)\"\n              v-for=\"(role, index) in rolesUnknown\" :role=\"role\"/>\n        </collapsible-div>\n\n        <collapsible-div class=\"collapse-container\">\n          <template #header>\n            <input checked type=\"checkbox\" @click.stop v-model=\"man.rollen.buergermeister.aktiv\"/>\n            <strong class=\"title\">Der Bürgermeister</strong>\n            <div class=\"icons\">\n              <i class=\"material-icons icon toggle\" @click=\"toggle\">keyboard_arrow_down</i>\n            </div>\n          </template>\n          <input class=\"times\" type=\"text\" v-model=\"man.rollen.buergermeister.stimme\">x Gewichtung der Stimme<br><br>\n          <span>Nach dem Tod des Bürgermeisters:<br></span>\n          <input value=\"0\" type=\"radio\" @click.stop v-model=\"man.rollen.buergermeister.neuwahl\"/><label>Nichts</label><br>\n          <input value=\"1\" type=\"radio\" @click.stop v-model=\"man.rollen.buergermeister.neuwahl\"/><label>Neuwahlen<br><span class=\"helptext\">Das Dorf bestimmt den neuen Bürgermeister</span></label><br>\n          <input value=\"2\" name=\"b_neuwahlen\" type=\"radio\" @click.stop v-model=\"man.rollen.buergermeister.neuwahl\"/><label>Übergabe<br><span class=\"helptext\">Der ehemalige Bürgermeister bestimmt den neuen Bürgermeister</span></label><br><br>\n\n\n        </collapsible-div>\n      </collapsible-div>\n\n\n\n<!--      6. Spielgruppen - Sondergruppen-->\n      <collapsible-div title=\"6. Spielgruppen - Sondergruppen\" icon=\"group\" second-option=\"visibility\" @option=\"scrollTo(6)\">\n\n        <h3>Verfügbare Gruppen:</h3>\n        <collapsible-div>\n          <template #header>\n            <input checked type=\"checkbox\" @click.stop disabled/>\n            <strong class=\"title\">Dorfgruppe</strong>\n            <div class=\"icons\">\n              <i class=\"material-icons icon toggle\" @click=\"toggle\">keyboard_arrow_down</i>\n            </div>\n          </template>\n          <input checked type=\"checkbox\" @click.stop v-model=\"man.spielgruppen.dorfgemeinde.nachtaktiv\"/><label>Können in der Nacht kommunizieren</label><br>\n        </collapsible-div>\n\n        <collapsible-div :disabled=\"true\">\n          <template #header>\n            <input checked type=\"checkbox\" @click.stop disabled/>\n            <strong class=\"title\">Werwolf-Gruppe</strong>\n          </template>\n        </collapsible-div>\n\n        <collapsible-div>\n          <template #header>\n            <input\n                v-model=\"man.spielgruppen.jaeger_gruppe.aktiv\"\n                :disabled=\"!jaegergruppeEnabled()\"\n                type=\"checkbox\"\n                @click.stop/>\n            <strong class=\"title\">Jäger-Gruppe<span v-if=\"!jaegergruppeEnabled()\" class=\"helptext\"><br>Der Jäger und der Jägerhund müssen vorhanden sein!</span></strong>\n            <div class=\"icons\">\n              <i class=\"material-icons icon toggle\" @click=\"toggle\">keyboard_arrow_down</i>\n            </div>\n          </template>\n          <input checked type=\"checkbox\" @click.stop v-model=\"man.spielgruppen.jaeger_gruppe.tagaktiv\"/><label>Können am Tag kommunizieren</label><br>\n          <input checked type=\"checkbox\" @click.stop v-model=\"man.spielgruppen.jaeger_gruppe.siegesbedingung\"/><label>Siegesbedingung: Letzte Überlebende sein</label><br>\n        </collapsible-div>\n\n        <collapsible-div>\n          <template #header>\n            <input\n                v-model=\"man.spielgruppen.liebespaar_gruppe.aktiv\"\n                :checked=\"checkRole('Der Amor') && man.spielgruppen.liebespaar_gruppe.aktiv\"\n                type=\"checkbox\"\n                @click.stop/>\n            <strong class=\"title\">Liebespaar-Gruppe<span v-if=\"!checkRole('Der Amor')\" class=\"helptext\"><br>Der Amor muss vorhanden sein!</span></strong>\n            <div class=\"icons\">\n              <i class=\"material-icons icon toggle\" @click=\"toggle\">keyboard_arrow_down</i>\n            </div>\n          </template>\n          <input checked type=\"checkbox\" @click.stop v-model=\"man.spielgruppen.liebespaar_gruppe.tagaktiv\"/><label>Können am Tag kommunizieren</label><br>\n        </collapsible-div>\n\n        <collapsible-div>\n          <template #header>\n            <input v-model=\"man.spielgruppen.gute_geister.aktiv\" type=\"checkbox\" @click.stop/>\n            <strong class=\"title\">Gruppe der guten Geister</strong>\n            <div class=\"icons\">\n              <i class=\"material-icons icon toggle\" @click=\"toggle\">keyboard_arrow_down</i>\n            </div>\n          </template>\n          Können jeden<input min=\"0\" type=\"number\" v-model.number=\"man.spielgruppen.gute_geister.kommunizieren\">. <label>Tag</label> einem Spieler eine Nachricht senden<br>\n          Können jeden<input min=\"0\" type=\"number\" v-model.number=\"man.spielgruppen.gute_geister.aufdecken\">. <label>Tag</label> die Rolle eines Spielers aufdecken<br>\n          Können jeden<input min=\"0\" type=\"number\" v-model.number=\"man.spielgruppen.gute_geister.raten\">. <label>Tag</label> die Rolle eines Spielers raten<br>\n        </collapsible-div>\n\n        <collapsible-div>\n          <template #header>\n            <input v-model=\"man.spielgruppen.boese_geister.aktiv\" type=\"checkbox\" @click.stop/>\n            <strong class=\"title\">Gruppe der bösen Geister</strong>\n            <div class=\"icons\">\n              <i class=\"material-icons icon toggle\" @click=\"toggle\">keyboard_arrow_down</i>\n            </div>\n          </template>\n          Können jeden<input min=\"0\" type=\"number\" v-model.number=\"man.spielgruppen.boese_geister.kommunizieren\">. <label>Tag</label> einem Spieler eine Nachricht senden<br>\n          Können jeden<input min=\"0\" type=\"number\" v-model.number=\"man.spielgruppen.boese_geister.aufdecken\">. <label>Tag</label> die Rolle eines Spielers aufdecken<br>\n          Können jeden<input min=\"0\" type=\"number\" v-model.number=\"man.spielgruppen.boese_geister.raten\">. <label>Tag</label> die Rolle eines Spielers raten<br>\n        </collapsible-div>\n\n      </collapsible-div>\n\n      <collapsible-div :collapsed=\"false\" title=\"7. Sonderregeln\" icon=\"auto_fix_high\" second-option=\"visibility\" @option=\"scrollTo(7)\">\n\n        <div class=\"extra-list\">\n\n          <div class=\"extra\"\n          v-for=\"(extra, i) of sonderregeln\">\n            <div class=\"num\">\n              <span>{{i + 1}}.</span>\n            </div>\n            <div class=\"text\">\n              <input placeholder=\"Regelname\" type=\"text\" v-model=\"extra.title\">\n              <textarea placeholder=\"Erklärungstext\" v-model=\"extra.text\"></textarea>\n            </div>\n            <div class=\"options\">\n              <i class=\"material-icons icon\" @click=\"removeArray(man.sonderregeln, i)\">delete</i>\n            </div>\n          </div>\n\n          <button @click=\"addExtra\">Regel hinzufügen <i class=\"material-icons icon\">add</i></button>\n\n        </div>\n\n      </collapsible-div>\n\n      <br>\n\n\n      <!--      Fehler überprüfen -->\n      <collapsible-div\n          title=\"Fehler überprüfen\"\n          icon=\"warning_outline\"\n          :style=\"errorContainerColor()\">\n\n        <div class=\"error-list\" style=\"margin-top: 10px;\">\n          <div class=\"error\" v-for=\"error in errors\" :class=\"errorClasses(error)\">\n            <i class=\"material-icons icon\">{{errorIcon(error)}}</i>\n            <span class=\"msg\" v-html=\"error.msg.replaceAll('\\n', '<br>').replaceAll('\\t', '<span class=\\'tabs\\'></span>')\"></span>\n\n          </div>\n          <div v-if=\"errors.length === 0\" class=\"error verbose\">\n            <span class=\"msg\">Alles einwandfrei!</span>\n\n          </div>\n        </div>\n        <h3>Zusammenfassung:</h3>\n        <div class=\"summary error-list\">\n          <div class=\"error verbose\" v-for=\"error in summary()\">\n            <span class=\"msg\" v-html=\"getErrorHTML(error)\"></span>\n          </div>\n        </div>\n\n      </collapsible-div>\n<!--      Exportieren-->\n      <collapsible-div title=\"Exportieren & Einstellungen\" icon=\"save\" :collapsed=\"false\">\n\n        <div class=\"flex-list\">\n\n          <h3>Exportieren:</h3>\n          <button @click=\"print\">Drucken<i class=\"material-icons\">print</i></button>\n          <button @click=\"exportMarkdown\">Markdown herunterladen</button>\n          <button @click=\"exportJSON\">JSON-Konfiguration herunterladen</button>\n          <h3>Einstellungen:</h3>\n          <div class=\"item\"><input type=\"checkbox\" v-model=\"autoReload\"><label>Automatisch aktualisieren<br><span class=\"helptext\">Zeigt automatisch alle Änderungen in der Vorschau.</span></label></div>\n          <div class=\"item\"><input type=\"checkbox\" v-model=\"autoSave\"><label>Änderungen speichern<br><span class=\"helptext\">Deine Einstellungen werden gespeichert, sodass du sie beim erneuten Besuch der Seite nicht nochmal eingeben musst.</span></label></div>\n          <button @click=\"loadStandard\">Standard laden </button><br>\n          <div class=\"item\">\n            <select v-model=\"style\">\n              <option selected value=\"default\">Standard</option>\n              <option selected value=\"font\">Schriftart</option>\n              <option value=\"brown\">Braun</option>\n              <option value=\"blue_dark\">Dunkelblau</option>\n            </select>\n            <label>Theme</label>\n          </div>\n        </div>\n      </collapsible-div>\n    </div>\n\n\n  </div>\n\n  <div class=\"background\" v-lazy-load=\"bgImg\">\n    <div style=\"background: linear-gradient(135deg, rgba(3,8,15,0.9) 0%,rgba(27,25,45,1) 100%); width: 100%;height: 100%\"/>\n  </div>\n\n\n</template>\n\n<script>\nimport ManualPreview from './components/ManualPreview.vue'\nimport ManualCreator from \"./services/ManualCreator\"\nimport CollapsibleDiv from \"@/components/CollapsibleDiv\";\nimport InputField from \"@/components/input/InputField\";\nimport Button from \"@/components/input/Button\";\nimport Rollen from \"@/services/Rollen\";\nimport LazyLoadImage from \"@/directives/LazyLoadImage\";\nimport VStyle from \"./components/VStyle\"\nimport { saveAs, File } from \"file-saver\"\nimport RoleCard from \"./components/RoleCard\";\nimport {Manual} from \"./services/ManualModel\";\nimport Tooltip from \"./directives/Tooltip\";\n\n\nexport default {\n  name: 'App',\n  directives: {\n    \"lazy-load\": LazyLoadImage,\n    \"tooltip\": Tooltip\n  },\n  components: {\n    Tooltip,\n    RoleCard,\n    Button,\n    InputField,\n    CollapsibleDiv,\n    ManualPreview,\n    VStyle\n  },\n  data() {\n    return {\n      allRoles: [\n          // {\"name\": \"\", \"amount\": 0, \"score\": 0, \"template\": \"\", \"attitude\": \"evil\"},\n          // {\"name\": \"\", \"amount\": 0, \"score\": 0, \"template\": \"\", \"attitude\": \"good\"},\n          // {\"name\": \"\", \"amount\": 0, \"score\": 0, \"template\": \"\", \"attitude\": \"unknown\"},\n      ],\n      man: ManualCreator.man,\n      menuVisible: true,\n      bgImg: \"https://vignette.wikia.nocookie.net/callofduty/images/e/e1/Werewolf_DOTN_BO4.jpg/revision/latest/scale-to-width-down/2000?cb=20181219195834\",\n      errors: [],\n      autoReload: true,\n      autoSave: true,\n      reloadAvailable: false,\n      style: \"default\"\n    }\n  },\n  mounted() {\n    let self = this\n    ManualCreator.ready.subscribe((v) => {\n      console.log(\"Manual loaded\")\n      this.allRoles = Rollen.rollen\n      this.assignListeners()\n\n      let parts = window.location.pathname.split(\"/\")\n      if(parts.length === 2 && parts[1] !== \"\"){\n        ManualCreator.loadModel(parts[1]).then(man => {\n          this.rerender()\n        })\n      }\n    })\n\n    ManualCreator.loadFromLocalStorage()\n    ManualCreator.loadTemplates()\n  },\n  watch: {\n    autoReload(newVal){\n      if(newVal){\n        this.rerender()\n      }\n    },\n    style(newVal){\n      if(newVal){\n      this.$refs[\"preview\"].style = newVal\n      }\n    }\n  },\n  computed: {\n    activatedRolesSorted() {\n      const allRoleNames = this.allRoles.map(r => r.name)\n      return this.man.rollen.aktiviert.sort((r1, r2) => {\n        let i1 = allRoleNames.findIndex(name => name === r1.name)\n        let i2 = allRoleNames.findIndex(name => name === r2.name)\n        return i1 - i2\n      })\n    },\n    rolesGood() { return this.allRoles.filter(r => r.attitude === \"good\")},\n    rolesEvil() { return this.allRoles.filter(r => r.attitude === \"evil\")},\n    rolesUnknown() { return this.allRoles.filter(r => r.attitude === \"unknown\")},\n    sonderregeln() { return this.man.sonderregeln}\n  },\n  methods: {\n    assignListeners(){\n      document.querySelectorAll(\"input:not([data-listens]), textarea:not([data-listens])\").forEach(el => {\n        el.dataset[\"listens\"] = \"true\"\n        el.addEventListener(\"input\", ev => {\n          this.rerender()\n        })\n      })\n    },\n    scrollTo(index){\n      this.$refs[\"preview\"].scrollTo(index)\n    },\n    roleTitle(role){\n      return '(' + role.amount + ') ' + role.name\n    },\n    roleIcon(role){\n      return \"./assets/roles/\" + role.icon + \".png\"\n    },\n    roleAttitude(role){\n      if(role.attitude === Rollen.Attitude.EVIL) return \"thumb_down_outline\"\n      if(role.attitude === Rollen.Attitude.GOOD) return \"thumb_up\"\n      if(role.attitude === Rollen.Attitude.UNKNOWN) return \"help_outline\"\n    },\n    addRole(role){\n      let existingRole = this.man.rollen.aktiviert.find(r => r.name === role.name)\n      if(existingRole){\n        existingRole.amount++;\n        // ManualCreator.man.rollen.aktiviert.find(r => r.name === role.name).amount++;\n      }else{\n        role.amount = 1\n        this.man.rollen.aktiviert.push(role)\n        // console.log(this.man.rollen.aktiviert)\n      }\n      this.rerender()\n    },\n    removeRole(index){\n      this.removeArray(this.man.rollen.aktiviert, index)\n    },\n    removeArray(array, index){\n      array.splice(index, 1)\n      this.rerender()\n    },\n    addExtra(){\n      this.man.sonderregeln.push({title: \"\", text: \"\"})\n      setTimeout(() => {\n        this.assignListeners()\n      }, 100)\n      this.rerender()\n    },\n    amountRoles(){\n      let amount = 0;\n      for(let role of this.man.rollen.aktiviert){\n        amount += role.amount\n      }\n      return amount\n    },\n    totalScore(){\n      let score = 0;\n      for(let role of this.man.rollen.aktiviert){\n        score += role.score * role.amount\n      }\n      return score\n    },\n    // Returns 1 good : x evil\n    distributionScore(){\n      let evil = 0;\n      for(let role of this.man.rollen.aktiviert){\n        if(role.attitude === \"evil\") evil += role.amount;\n      }\n      let val = floorAt((this.amountRoles() - evil) / evil, 2)\n      return val === Infinity || isNaN(val) ? -1 : val\n    },\n    escalationScore(){\n      let escalation = 0;\n      for(let role of this.man.rollen.aktiviert){\n        escalation += role.escalation * role.amount\n      }\n      return escalation\n    },\n    scoreColor(score){ return this.calculateColor(score, -4, 4) },\n    scoreColorAlt(score){ return ManualCreator.scoreColorAlt(score) },\n    difficulty(){\n      if(this.totalScore() >= 4) return \"Sehr Leicht\"\n      if(this.totalScore() >= 2) return \"Leicht\"\n      if(this.totalScore() > -2 && this.totalScore() < 2) return \"Normal\"\n      if(this.totalScore() <= -4) return \"Schwer\"\n      if(this.totalScore() <= -2) return \"Medium\"\n    },\n    rerender(auto){\n      if(auto === undefined) auto = true\n      this.errors = ManualCreator.checkForMistakes()\n      if(!auto || (auto && this.autoReload)){\n        this.reloadAvailable = false\n        setTimeout(() => {\n          this.$refs[\"preview\"].render(this.autoSave)\n        }, 100)\n      }else{\n        this.reloadAvailable = true\n      }\n    },\n    errorIcon(error){\n      if(error.level === 1) return \"warning\"\n      if(error.level === 2) return \"error\"\n    },\n    errorClasses(error){\n      if(error.level === 0) return \"verbose\"\n      if(error.level === 1) return \"warning\"\n      if(error.level === 2) return \"issue\"\n    },\n    errorContainerColor(){\n      if(this.errors.find(e => e.level >= 2)) return {background: 'rgba(255,106,106, 0.05)'}\n      if(this.errors.find(e => e.level >= 1)) return {background: 'rgba(233,165,57,0.05)' }\n    },\n    getErrorHTML(error){\n      return error.msg.replaceAll('\\n', '<br>').replaceAll('\\t', '<span class=\\'tabs\\'></span>')\n    },\n    exportPdf(){\n      let el = document.getElementById(\"preview\")\n    },\n    exportMarkdown(){\n      saveAs(new Blob([ManualCreator.createMarkdown()], {type: \"text/plain;charset=utf-8\"}), \"Regelwerk.md\")\n    },\n    exportJSON(){\n      saveAs(new Blob([JSON.stringify(this.man)], {type: \"text/plain;charset=utf-8\"}), \"manual.json\")\n    },\n    print(){\n      // document.querySelector(\"#app\").classList.add(\"print\")\n      window.print()\n      // document.querySelector(\"#app\").classList.remove(\"print\")\n    },\n    summary(){\n      let summary = []\n      function tabs(amount){\n        let text = \"\"\n        for(let i = 0; i < amount; i++){\n          text += \"\\t\"\n        }\n        return text\n      }\n      function getSummary(obj, level){\n        for(let key in obj){\n          if(key === \"template\") continue\n          if(key === \"aktiviert\") {\n            summary.push({msg: tabs(level) + \"Aktivierte Rollen:\"})\n            for(let role of obj[key]){\n              summary.push({msg: tabs(level + 1) + \"(\" + role.amount + \") \" + role.name})\n              for(let other in role.other){\n                summary.push({msg: tabs(level + 2) + role.other[other].name + \": \" + role.other[other].value})\n              }\n            }\n          }else if(typeof obj[key] === \"object\"){\n            if(Object.keys(obj[key]).length === 0) continue\n            if(obj[key].aktiv !== undefined && obj[key].aktiv === false) continue\n            summary.push({msg: tabs(level) + key + \":\"})\n            getSummary(obj[key], level+1)\n          }else{\n            if(key === \"aktiv\") continue\n            summary.push({msg: tabs(level) + key + \": \" + obj[key]})\n          }\n        }\n      }\n      getSummary(this.man, 0)\n      return summary\n    },\n    loadStandard(){\n      ManualCreator.loadTemplates()\n      window.location.reload(false)\n    },\n\n\n    checkRole(name){ return this.man.rollen.aktiviert.find(r => r.name === name)},\n    jaegergruppeEnabled(){ return this.checkRole(\"Der Jäger\") && this.checkRole(\"Der Jägerhund\")},\n    calculateColor(value, low, high){ return ManualCreator.calculateColor(value, low, high) }\n  },\n}\n\nfunction floorAt(num, decimal){\n  let f = Math.pow(10, decimal)\n  return Math.floor(num * f) / f\n}\n</script>\n\n<style lang=\"less\">\n\n//.tippy-box{\n//  font-family: \"Open Sans\", sans-serif;\n//  background-color: #333;\n//}\n\n//.tooltip {\n//  font-family: \"Open Sans\", sans-serif;\n//  color: white;\n//  border-radius: 4px;\n//  font-size: 14px;\n//  transition: opacity 100ms;\n//  opacity: 0;\n//  z-index: 10000;\n//  max-width: 200px;\n//  position: relative;\n//  padding-top: 10px;\n//\n//\n//  &.enter{\n//    opacity: 1;\n//  }\n//  &.exit{\n//    opacity: 0;\n//  }\n//\n//  span{\n//    display: block;\n//    padding: 5px 10px;\n//    background-color: #333;\n//    box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n//    border-radius: 2px;\n//  }\n//\n//  .triangle{\n//    content: \"\";\n//    display: block;\n//    position: absolute;\n//    top: 0;\n//    left: calc(50% - 10px);\n//    width: 0;\n//    height: 0;\n//\n//    border-left: 10px solid transparent;\n//    border-right: 10px solid transparent;\n//\n//    border-bottom: 10px solid #333;\n//  }\n//}\n\nhtml, body{\n  margin: 0;\n  font-family: \"Open Sans\", sans-serif;\n}\n#app {\n  display: block;\n  background: #19181f;\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n  color: #ffffff;\n}\n\n#previewContainer{\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n#preview{\n  --size: 750px;\n  --padding-side: 60px;\n  --padding-tb: 30px;\n  width: calc(var(--size) - 2 * var(--padding-side));\n  height: calc(var(--size) * (7/5) - 2 * var(--padding-tb));\n  padding: var(--padding-tb) var(--padding-side) 60px;\n  border-radius: 8px;\n  box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n  flex-shrink: 0;\n  position: relative;\n\n  @media(max-height: 1080px){\n    height: calc(100% - var(--padding-tb) - 60px);\n    margin: 0;\n    border-radius: 0;\n  }\n  @media(max-width: 800px){\n    width: calc(100% - var(--padding-side) * 2);\n  }\n  @media(max-width: 600px){\n    width: calc(100% - 16px * 2);\n    padding: var(--padding-tb) 16px 60px;\n  }\n}\n\n#mainContent{\n  display: flex;\n  position: relative;\n  height: 100vh;\n  z-index: 1;\n  justify-content: space-between;\n\n  @media(max-width: 1700px){\n    justify-content: center;\n  }\n}\n\n.settings{\n  display: block;\n  flex-direction: column;\n  width: 700px;\n  height: 100%;\n  overflow-y: auto;\n  position: relative;\n  border-left: 1px solid rgba(255, 255, 255, 0.1);\n  background: #13111c;\n  flex-shrink: 0;\n  z-index: 10;\n\n  .container .header{\n    flex-shrink: 0;\n  }\n  & > .container{\n    border-left: none;\n  }\n\n  .description{\n    display: inline-block;\n    opacity: 0.8;\n  }\n\n  @media(max-width: 1700px){\n    position: fixed;\n    top: 0;\n    right: 0;\n    width: 100%;\n    max-width: 700px;\n    transition: 250ms transform;\n    transform: translateX(100%);\n    z-index: 10;\n    &.visible{\n      transform: translateX(0);\n    }\n  }\n}\n\n#settingsToggle{\n  display: none;\n  position: fixed;\n  top: 16px;\n  right: 16px;\n  font-size: 32px;\n  opacity: 0.8;\n  cursor: pointer;\n  z-index: 100;\n  user-select: none;\n  transition: 250ms color;\n  @media(max-width: 800px){\n    &.dark{\n      color: #212121;\n    }\n  }\n  @media(max-width: 1700px){\n    display: block;\n  }\n}\n\n.balancings{\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  .headers{\n    display: flex;\n    .header{\n      flex-shrink: unset !important;\n      padding: 5px;\n      width: 100%;\n      text-align: center;\n      display: inline-flex;\n      justify-content: center;\n      align-items: center;\n      cursor: default;\n      border-bottom: none;\n\n      i{\n        font-size: 16px;\n        margin-left: 6px;\n        opacity: 0.5;\n      }\n    }\n  }\n  .body{\n    display: flex;\n    border-top: 1px solid rgba(255, 255, 255, 0.1);\n    .item{\n      padding: 10px 0 5px;\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n\n      .description{\n        margin-top: 5px;\n      }\n    }\n  }\n}\n\n.roles-list{\n  display: flex;\n  flex-direction: column;\n\n}\n\n.amount-roles{\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  padding: 4px 8px;\n  font-size: 14px;\n  font-weight: 600;\n  width: 12px;\n  height: 20px;\n  border-radius: 14px;\n  margin: 0 10px;\n  background: rgba(255, 255, 255, 0.3);\n  transition: 400ms background-color;\n\n  &.distribution-score{\n    min-width: 20px;\n    width: auto;\n  }\n}\n\n.collapse-container .content > .container{\n  &:first-child{\n    border-radius: 4px 4px 0 0;\n  }\n  &:last-child{\n    border-radius: 0 0 4px 4px;\n  }\n}\n\n.container .header .title{\n  width: 100%;\n  padding: 15px 0;\n}\n.helptext{\n  font-size: 14px;\n  opacity: 0.5;\n}\n\ninput, textarea, button, select{\n  background: rgb(41, 60, 76);\n  margin: 5px;\n  padding: 5px 0 5px 10px;\n  color: #ffffff;\n  font-family: \"Open Sans\", sans-serif;\n  font-size: 14px;\n  border-radius: 2px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  &[type=number]{\n    width: 30px;\n  }\n  &[type=checkbox]{\n    margin-right: 20px;\n  }\n  &.times{\n    width: 35px;\n    padding: 5px;\n  }\n}\n\nbutton{\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-family: \"Open Sans\", sans-serif;;\n  padding: 7px 12px;\n  border-radius: 4px;\n  transition: background-color 100ms;\n  cursor: pointer;\n  font-weight: 600;\n  &:hover{\n    background: rgba(94, 160, 186, 0.2);\n  }\n  i{\n    margin: 0 10px;\n  }\n}\n\n.extra-list{\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n\n  .extra{\n    width: 100%;\n    display: flex;\n    margin-bottom: 10px;\n\n\n    &:not(:first-child){\n      padding-top: 10px;\n      border-top: 1px solid rgba(255, 255, 255, 0.10);\n    }\n\n    .text{\n      width: 100%;\n      textarea{\n        background: rgba(94, 160, 186, 0.1);\n        color: rgba(255, 255, 255, 0.8);\n      }\n    }\n    .options, .num{\n      text-align: right;\n      width: 40px;\n      padding-top: 10px;\n      flex-shrink: 0;\n      user-select: none;\n\n      &.num{\n        text-align: left;\n        width: 25px;\n      }\n      i{\n        cursor: pointer;\n        opacity: 0.5;\n        &:hover{\n          opacity: 1;\n        }\n      }\n    }\n\n    input{\n      display: block;\n      width: calc(100% - 16px);\n    }\n\n    textarea{\n      display: block;\n      width: calc(100% - 16px);\n      resize: vertical;\n    }\n  }\n}\n\n.error-list{\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  .error{\n    display: flex;\n    align-items: center;\n    font-family: monospace;\n    font-size: 14px;\n    padding: 6px 10px;\n    .icon{\n      width: 30px;\n      font-size: 16px;\n      flex-shrink: 0;\n    }\n    .tabs{\n      display: inline-block;\n      width: 20px\n    }\n    &:not(:last-child){\n      border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n    }\n    &.verbose { background: rgba(120, 120, 120, 0.1); color: rgba(200, 200, 200, 0.9);}\n    &.warning { background: rgba(133, 102, 69, 0.1); color: rgba(234, 181, 124, 0.9);}\n    &.issue   { background: rgba(133, 69, 69 , 0.1); color: rgba(234, 124, 124, 0.9);}\n  }\n}\n\n.flex-list{\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n  .item{\n    margin-left: 10px;\n    margin-bottom: 4px;\n  }\n}\n\n#fab{\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  margin-left: 30px;\n  margin-bottom: 30px;\n  width: 54px;\n  height: 54px;\n  border-radius: 100%;\n  background-color: #4275d9;\n  box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n  transition: 300ms transform, 100ms background-color;\n  cursor: pointer;\n  transform: translateY(0);\n\n  i{\n    color: #ffffff;\n    font-size: 28px;\n    user-select: none;\n  }\n  &:hover{\n    transform: translateY(0) rotate(180deg);\n    background-color: #2b54a8;\n  }\n\n  &.hidden{\n    transform: translateY(54px + 30px);\n  }\n}\n\n.background{\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\nstrong{\n  font-weight: 600;\n}\n\nbutton{\n  margin: 10px;\n}\n\n@media print {\n  html, body, #app {\n    background: white;\n  }\n\n  #mainContent, #app {\n    height: auto;\n  }\n\n  #app {\n    overflow: auto;\n    background: white;\n    width: auto;\n  }\n\n  .printHide{\n    display: none !important;\n  }\n\n  .settings {\n    display: none;\n  }\n\n  #preview {\n    margin: 0;\n    width: auto;\n    height: 100%;\n    padding: 30px 30px;\n    box-shadow: none;\n    overflow-y: auto;\n\n    &.container {\n      display: block;\n      background: transparent;\n    }\n  }\n\n\n  #previewContainer{\n    display: block;\n  }\n\n  .background {\n    display: none;\n  }\n\n  table {\n    page-break-after: always;\n  }\n\n  #settingsToggle{\n    display: none;\n  }\n\n  p {\n    display: block;\n    page-break-before: auto;\n  }\n}\n</style>\n","<template>\r\n\r\n  <div id=\"preview\" class=\"container\">\r\n\r\n    <div v-html=\"manualHtml\">\r\n\r\n\r\n\r\n    </div>\r\n\r\n\r\n    <v-style v-if=\"style === 'font'\">\r\n      h1, h2{\r\n        font-family: \"Averia Serif Libre\", sans-serif;\r\n      }\r\n      h4{ font-style: italic; }\r\n    </v-style>\r\n    <v-style v-if=\"style === 'brown'\">\r\n      h1, h2{\r\n        font-family: \"Averia Serif Libre\", sans-serif;\r\n      }\r\n      h4{ font-style: italic; }\r\n      #preview.container, html, body, #app{\r\n        background: #f0e9dd;\r\n      }\r\n      #preview.container h1, #preview.container h2{\r\n        color: #865921;\r\n        text-decoration: underline dashed;\r\n      }\r\n      #preview.container h3, #preview.container h4, #preview.container h5, #preview.container p{\r\n        color: #121212;\r\n      }\r\n    </v-style>\r\n    <v-style v-if=\"style === 'blue_dark'\">\r\n      h1, h2{\r\n        font-family: \"Averia Serif Libre\", sans-serif;\r\n      }\r\n      h4{ font-style: italic; }\r\n      #preview.container, html, body, #app{\r\n        background: #040417;\r\n        color: #ffffff;\r\n      }\r\n      #preview.container h1, #preview.container h2{\r\n        color: #f2f5ff;\r\n        text-decoration: underline dashed;\r\n      }\r\n      h2{\r\n        margin-top: 60px;\r\n        margin-bottom: 40px;\r\n      }\r\n      table thead tr th{\r\n        border-color: #d8defa;\r\n      }\r\n\r\n      table td, table th{\r\n        border-color: #cdd6ff44;\r\n      }\r\n\r\n    </v-style>\r\n\r\n  </div>\r\n    \r\n</template>\r\n\r\n<script>\r\nimport * as showdown from \"showdown\"\r\nimport ManualCreator from \"@/services/ManualCreator\";\r\nimport VStyle from \"@/components/VStyle\"\r\n\r\nexport default {\r\n  name: \"ManualPreview\",\r\n  components: {\r\n    VStyle\r\n  },\r\n  data(){\r\n    return {\r\n      manualHtml: \"<h2><i>Vorlage wird geladen...</i></h2>\",\r\n      style: \"default\"\r\n    }\r\n  },\r\n  mounted() {\r\n    ManualCreator.ready.subscribe((v) => {\r\n      this.render()\r\n    })\r\n  },\r\n  methods: {\r\n    render(save){\r\n      let converter = new showdown.Converter({\r\n        tables: true\r\n      })\r\n      let text = ManualCreator.createMarkdown(save)\r\n      this.manualHtml = converter.makeHtml(text)\r\n      // console.log(\"Rerendered\", text)\r\n    },\r\n    scrollTo(index){\r\n      let el = document.getElementById(\"preview\").querySelectorAll(\"h2\")[index - 1]\r\n      if(el)\r\n        el.scrollIntoView({\r\n          behavior: \"smooth\"\r\n        })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\r\nh1 {\r\n  text-align: center;\r\n  font-size: 60px;\r\n  font-weight: 800;\r\n}\r\n\r\nh2{\r\n  font-weight: 600;\r\n  margin-top: 40px;\r\n}\r\n\r\nh3, h4, h5{\r\n  font-weight: 400;\r\n}\r\n\r\n\r\np{\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n}\r\n\r\n\r\n\r\n\r\n#preview.container {\r\n  display: inline-block;\r\n  background: #ffffff;\r\n  color: #121212;\r\n  overflow-y: auto;\r\n  \r\n  table {\r\n    width: 100%;\r\n    border-spacing: 0;\r\n    th{\r\n      font-weight: 600;\r\n    }\r\n    td, th{\r\n      padding: 10px 6px;\r\n      //border-right: 1px solid #cacaca;\r\n      border-bottom: 1px solid #919191;\r\n      &:first-child{\r\n        //border-left: 1px solid #cacaca;\r\n      }\r\n    }\r\n    td:nth-child(1){\r\n      width: 20%;\r\n    }\r\n    td:nth-child(2){\r\n      width: 40%;\r\n    }\r\n    td:nth-child(3){\r\n      width: 30%;\r\n    }\r\n    thead{\r\n      tr th{\r\n        border-top: 2px solid #000000;\r\n        border-bottom: 2px solid #000000;\r\n      }\r\n    }\r\n\r\n\r\n    ul{\r\n      margin: 0 auto;\r\n      padding: 0;\r\n      width: 60%;\r\n      text-align: left;\r\n      li{\r\n        margin-bottom: 6px;\r\n      }\r\n    }\r\n  }\r\n\r\n  \r\n  .material-icons.day { color: #efb62d; }\r\n  .material-icons.dayend { color: #b16412; }\r\n  .material-icons.night { color: #4275d9; }\r\n  .material-icons.night2 { color: #8937d2; }\r\n}\r\n\r\n\r\n\r\n</style>\r\n","\r\n\r\nexport class Manual {\r\n\r\n    version = 1\r\n\r\n    einfuerung = {\r\n    }\r\n\r\n    zeiten = {\r\n        zeit_beginn_nacht1: \"20:00\",\r\n        zeit_ende_rollen_nacht1: \"22:00\",\r\n        zeit_ende_rollen_nacht2: \"08:50\",\r\n        zeit_beginn_nacht2: \"00:00\",\r\n        zeit_beginn_tag: \"09:00\",\r\n        zeit_beginn_plaedoyer_klaeger: \"18:00\",\r\n        zeit_beginn_plaedoyer_angeklagte: \"18:15\",\r\n        zeit_beginn_abstimmung: \"18:30\",\r\n        zeit_ende_abstimmung: \"20:00\",\r\n    }\r\n\r\n    grundlegende_regeln = {\r\n        reden_ausserhalb_des_spiels: false,\r\n        eindeutige_beweise: true,\r\n    }\r\n\r\n    justiz = {\r\n        unschuldsvermutung: true,\r\n        geteiltes_plaedoyer: true,\r\n    }\r\n\r\n    rollen = {\r\n        rollenuebersicht: true,\r\n        rollenuebersicht_amount: true,\r\n        aktiviert: [],\r\n        buergermeister: {\r\n            aktiv: true,\r\n            stimme: \"1.5\",\r\n            neuwahl: 1, // 0: Keine Neuwahl, 1: Durch das Volk, 2: Durch den Bürgermeister\r\n            // TODO: ...\r\n        }\r\n    }\r\n\r\n    spielgruppen = {\r\n        dorfgemeinde: {\r\n            nachtaktiv: true,\r\n        },\r\n        werwolf_gruppe: true,\r\n        jaeger_gruppe: {\r\n            aktiv: false,\r\n            tagaktiv: true,\r\n            siegesbedingung: false\r\n        },\r\n        liebespaar_gruppe: {\r\n            aktiv: false,\r\n            tagaktiv: true\r\n        },\r\n        gute_geister: {\r\n            aktiv: true,\r\n            kommunizieren: 1,\r\n            aufdecken: 2,\r\n            raten: 0,\r\n        },\r\n        boese_geister: {\r\n            aktiv: true,\r\n            kommunizieren: 1,\r\n            aufdecken: 0,\r\n            raten: 0\r\n        }\r\n    }\r\n\r\n    sonderregeln = []\r\n\r\n    apply(man){\r\n        this.rollen.aktiviert.splice(0, this.rollen.aktiviert.length)\r\n        this.sonderregeln.splice(0, this.sonderregeln.length)\r\n        function applyTo(from, to){\r\n            for(let key in from){\r\n                if(to[key] !== undefined){\r\n                    if(typeof to[key] === \"object\"){\r\n                        if(from[key] === null || from[key] === undefined){\r\n                            continue\r\n                        }else if(Object.keys(from[key]).length > 0 && from[key][0] !== undefined){\r\n                            for(let entry of from[key]){\r\n                                to[key].push(entry)\r\n                            }\r\n                        }else{\r\n                            applyTo(from[key], to[key])\r\n                        }\r\n                    }else{\r\n                        to[key] = from[key]\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        applyTo(man, this)\r\n    }\r\n}\r\n","\nconst Handlebars = require(\"handlebars\")\nimport ManualCreator from \"./ManualCreator\";\n\n\nconst Attitude = {\n    GOOD: \"good\",\n    EVIL: \"evil\",\n    UNKNOWN: \"unknown\"\n}\n\nexport default {\n    Attitude,\n    rollen: [],\n    renderTemplate(role){\n        return Handlebars.compile(role.template)({\n            root: ManualCreator.createContext()\n        })\n    }\n\n}","\n\n\nconst defaults = {\n    zeiten: {\n        list_first: `<ul>\n                <li>Werwolf-Gruppe aktiv</li>\n                <li>Dorfgruppe {{#if model.spielgruppen.dorfgemeinde.nachtaktiv}}aktiv{{else}}deaktiviert{{/if}}</li>\n                <li>Hexe teilt ihre Entscheidung der Spielleitung mit, ob sie heilt, tötet oder nichts unternimmt</li>\n                <li>Infizierter Werwolf teilt sein Opfer der Spielleitung mit</li>\n                <li>Prediger sendet seine Predigt an die Spielleitung</li>\n            </ul>`.replaceAll(\"\\n\", \"\"),\n        list_second: `<ul>\n                <li>Werwolf-Gruppe deaktiviert</li>\n                <li>Dorfgruppe aktiv</li>\n                <li>Anklagen möglich</li>\n            </ul>`.replaceAll(\"\\n\", \"\"),\n        list_third: `<ul>\n                <li>Erste Hälfte: Plädoyers der Kläger</li>\n                <li>Letzte Hälfte: Plädoyers der Angeklagten</li>\n            </ul>`.replaceAll(\"\\n\", \"\"),\n        list_fourth: `<ul>\n                <li>Abstimmung über Angeklagte</li>\n                <li>Dorfgruppe deaktiviert</li>\n            </ul>`.replaceAll(\"\\n\", \"\"),\n        list_fifth: `<ul>\n                <li>Werwolf-Gruppe aktiv</li>\n                <li>Dorfgruppe {{#if model.spielgruppen.dorfgemeinde.nachtaktiv}}aktiv{{else}}deaktiviert{{/if}}</li>\n                <li>Werwölfe teilen ihre Entscheidung über ein Opfer der Spielleitung mit</li>\n                <li>Sonderrollen benennen die Personen der Spielleitung, die sie beschützen oder beobachten wollen</li>\n                <li>Geister-Gruppen teilen ihren Wunsch und ihre Nachrichten der Spielleitung mit</li>\n            </ul>`.replaceAll(\"\\n\", \"\")\n    }\n}\n\n\nexport default {\n    defaults: defaults,\n    template: `\n<br><br><br>\n# Werwölfe<br>für Telegram\n\n<p style=\"text-align: center\">Stadtteilkirche Rosenheim-Inn<br>© 2020</p><br><br><br>\n<br><br>\n\n## 1. Einführung\n\n#### 1.1. Regelwerk\nDieses Regelwerk dient dem reibungslosen Spielablauf. \nEs soll dabei helfen strittige Fragen zu klären, schließt aber auch nicht aus, dass es im Spiel zu Handlungen und \nEreignissen kommen kann, die durch diese Vorschrift nicht abgedeckt werden. Dennoch ist jedem Spieler / jeder Spielerin \nanzuraten die Spielregeln vor Spielbeginn genauestens zu studieren.\n\n#### 1.2. Telegram - Spielgruppen\nDie Teilnahme am Spiel ist online über Telegram möglich. Dabei muss jeder Spieler / jede Spielerin gemäß Einladungslink\nder Werwolf-Spielgruppe beitreten. Bevor die Spielleitung das Spiel mit der Aufstellung von Kandidaten für das Amt des\nBürgermeisters freigibt, werden die Rollen der Dorfbewohner ausgelost und jedem Spieler / jeder Spielerin in einer\npersönlichen Nachricht mitgeteilt. Die Spielleitung informiert über angeheftete Nachrichten in Werwolf-Spielgruppe\n(Dorfgruppe). Einige Sonderrollen (Werwölfe, Jäger / Jägerin, Jägerhund, Liebespaar, gute und böse Geister) werden,\num sich austauschen zu können, in eigene Sondergruppen eingeteilt. Auf diese Sondergruppen wird in\nKapitel 6 näher eingegangen.\n\n## 2. Zeitlicher Ablauf des Spiels\n\n#### 2.1. Grundlagen zu Tag und Nacht\nDas Spiel bezieht sich auf einen realen Tag-Nacht-Kreislauf. Entsprechend treffen sich die Dorfbewohner / \nDorfbewohnerinnen tagsüber über die Werwolf-Spielgruppe (Dorfgruppe) auf einem virtuellen Marktplatz, diskutieren\nmiteinander, klagen Verdächtige an, stimmen über Schuld und Unschuld ab und lassen die Verurteilten am Abend \nhinrichten. Während der Abstimmung der Dorfbewohner / Dorfbewohnerinnen ist die Dorfgruppe deaktiviert.\n\n#### 2.2. Tagesablauf in der Dorfgruppe\nDer Tag in der Dorfgruppe beginnt um {{model.zeiten.zeit_beginn_tag}} Uhr und endet um {{model.zeiten.zeit_beginn_nacht1}} \nUhr. Mit Einbruch der Nacht nach {{model.zeiten.zeit_beginn_nacht1}} Uhr werden die nachtaktiven Sondergruppen freigeschaltet \n(aktiviert). Die Dorfgruppe bleibt nach der Abstimmung nachts deaktiviert. \nDie nachfolgende Tabelle 1 visualisiert die einzelnen Zeitabschnitte von der Diskussion\nunter den Dorfbewohnern / Dorfbewohnerinnen über Anklagen, Plädoyers, Abstimmung bis hin zur Hinrichtung. Diese sind \nfür jeden Spieler / jede Spielerin bindend.\n\nTabelle 1: Tagesablauf der Dorfgruppe\n|Uhrzeit|Handlung|Bemerkung|\n|:------:|:-------:|:--------:|\n|<i class=\"material-icons night\">nights_stay</i><br><br>{{model.zeiten.zeit_beginn_nacht2}} - {{model.zeiten.zeit_beginn_tag}} |{{{handlebars @root defaults.zeiten.list_first}}}||\n|<i class=\"material-icons day\">wb_sunny</i><br><br>{{model.zeiten.zeit_beginn_tag}} - {{model.zeiten.zeit_beginn_plaedoyer_klaeger}}| {{{handlebars @root defaults.zeiten.list_second}}}|Bedingungen für gültige Anklagen: siehe Kap. 4| \n|<i class=\"material-icons day\">wb_sunny</i><br><br>{{model.zeiten.zeit_beginn_plaedoyer_klaeger}} - {{model.zeiten.zeit_beginn_abstimmung}}|{{{handlebars @root defaults.zeiten.list_third}}}|Außer Klägern und Anklagten darf kein anderer Spieler / keine andere Spielerin in die Dorfgruppe schreiben!|\n|<i class=\"material-icons dayend\">wb_twilight</i><br><br>{{model.zeiten.zeit_beginn_abstimmung}} - {{model.zeiten.zeit_ende_abstimmung}}|{{{handlebars @root defaults.zeiten.list_fourth}}}|Jeder Spieler / Jede Spielerin ist zur Abstimmung verpflichtet!|\n|<i class=\"material-icons night\">nights_stay</i><br><br>{{model.zeiten.zeit_beginn_nacht1}} - {{model.zeiten.zeit_beginn_nacht2}}|{{{handlebars @root defaults.zeiten.list_fifth}}}|Einschränkungen zur Bekanntgabe von Rollen an gute oder böse Geister siehe Kap. 5|\n\n## 3. Grundlegende Regeln\n\n#### 3.1. Ziel des Spiels\nDas Spiel endet sobald eine der beiden Parteien – Dorfbewohner mit guter Gesinnung oder böse Werwölfe\n – alle gegnerischen Spieler / Spielerinnen getötet haben. \n\n#### 3.1. Verhalten der Spieler / Spielerinnen außerhalb des Spiels\nAußerhalb der Telegram-Werwolf-Spielgruppe (Dorfgruppe) dürfen sich die Spieler / Spielerinnen {{#if model.grundlegende_regeln.reden_ausserhalb_des_spiels}}{{else}}keinesfalls{{/if}}\nüber das Spiel und dessen Verlauf unterhalten. Das Preisgeben der eigenen Rolle ist nicht zulässig. \n{{#if model.grundlegende_regeln.reden_außerhalb_des_spiels}}{{else}}Ein \nRegelverstoß kann zum Ausschluss vom Spiel zur Folge haben! Die Entscheidung hierüber \nist der Spielleitung vorbehalten.{{/if}}\n\n#### 3.2. Verhalten der Spieler / Spielerinnen innerhalb des Spiels\nInnerhalb der Telegram-Werwolf-Spielgruppe darf die eigene Rolle dargelegt werden. Eindeutige Beweise hierfür \n(Bsp.: Screenshots, etc.) sind {{#if model.grundlegende_regeln.eindeutige_beweise}}{{else}}jedoch **nicht**{{/if}} zulässig. Eine Falschaussage über die eigene Identität ist zulässig. \n\n#### 3.4. Sinnhaftigkeit des Spiels und Respekt\nDas Spiel lebt von einer lebendigen Kommunikation. Es ist von Vorteil, wenn sich jede*r nach Möglichkeit so\naktiv wie möglich in das Spiel einbringt, denn das macht dieses Spiel attraktiv und spannend. Es ist jedoch \ndarauf zu achten, dass die hitziger werdenden Diskussionen frei von Beleidigungen bleiben, damit niemand in \nseiner/ihrer Persönlichkeit verletzt wird. Fehlverhalten haben einen Ausschluss vom Spiel zur Folge!\n\n## 4. Justiz in der Dorfgemeinschaft\n\n#### 4.1. Anklagen\nAnklagen müssen bis spätestens {{model.zeiten.zeit_beginn_plaedoyer_klaeger}} Uhr bei der Spielleitung angezeigt werden. \nHierfür muss im Chatverlauf \nder Dorfgruppe der über @name markierte Name des Angeklagten mit einem Verweis über @Spielleiter\ngemeldet werden. Zum Beispiel: „@Spielleitung, ich klage hiermit @Maxiii an.“ Gleichzeitig ist die \nSpielleitung auch in einer Privatnachricht über die Anklage zu informieren. Fehlt eine der beiden Informationswege \nan die Spielleitung, gilt die Anklage als ungültig. Gültige Anklagen werden von der Spielleitung über eine angeheftete \nNachricht in der Dorfgruppe bekanntgegeben. \n\n{{#if model.justiz.unschuldsvermutung}}#### 4.2. Unschuldsvermutung \nWird bis {{model.zeiten.zeit_beginn_plaedoyer_klaeger}} Uhr nur eine Person angeklagt, so kommt die Unschuldsvermutung zur Anwendung \n(„In dubio pro reo – im Zweifel für den Angeklagten“). Eine Verurteilung und Hinrichtung bleiben\nan diesem Tag aus.\n{{/if}}\n\n#### 4.3. Plädoyers – der / die Angeklagte hat das letzte Wort\nNach {{model.zeiten.zeit_beginn_plaedoyer_klaeger}} Uhr haben zunächst bis\n{{model.zeiten.zeit_beginn_plaedoyer_angeklagte}} Uhr die Kläger das Wort.\nHier untermauern sie noch einmal kurz und knapp, in wenigen Sätzen ihre Gründe \nfür die Anklage. Im Anschluss, zwischen {{model.zeiten.zeit_beginn_plaedoyer_angeklagte}} Uhr\nund {{model.zeiten.zeit_beginn_abstimmung}} Uhr, \nhaben die Angeklagten das Wort. Sie haben damit die Möglichkeit sich zu \nverteidigen und gegen die Anklagen zu wehren. In diesem Zeitraum haben\nalle anderen Dorfbewohner / Dorfbewohnerinnen zu schweigen und dürfen\nkeinerlei Nachrichten in die Dorfgruppe senden. \nEin Fehlveralten hat die Sperrung des Spielers / der Spielerin \nfür die darauffolgende Nacht und den darauffolgenden Tag bis\n{{model.zeiten.zeit_ende_abstimmung}} Uhr zur Folge! \n\n#### 4.4. Abstimmung\nUm {{model.zeiten.zeit_beginn_abstimmung}} Uhr startet die Abstimmung, welche der Angeklagten \nhingerichtet werden soll. Diese dauert bis {{model.zeiten.zeit_ende_abstimmung}} Uhr. \nIn diesem Zeitraum wird die Dorfgruppe durch die Spielleitung deaktiviert,\nsodass die Spieler / Spielerinnen keine Nachrichten schreiben können. \n1. Jeder Spieler / jede Spielerin ist verpflichtet an der Abstimmung teilzunehmen und seine / ihre Stimme\n für einen / eine der Angeklagten zu geben! Enthaltungen sind nicht möglich! \n2. Stimmt ein Spieler / eine Spielerin nicht ab, so wird er / sie ab {{model.zeiten.zeit_ende_abstimmung}} Uhr für die darauffolgende \nNacht und den darauffolgenden Tag gesperrt und darf keine Nachrichten in die Dorfgruppe oder Sondergruppe schreiben.\n3. Die unterste Auswahloption in der Abstimmung heißt grundsätzlich \n„Geister / Gesperrte / Spielleitung“. Diese haben bereits verstorbene Dorfbewohner\n/ Dorfbewohnerinnen zu nutzen, die sich in den ihrer Gesinnung entsprechenden Geistergruppen befinden, \nsowie Spieler / Spielerinnen, die aufgrund eines Regelverstoßes, gesperrt sind.\n\n#### 4.5. Sperren von Spielern / Spielerinnen  \nStimmt ein Spieler / eine Spielerin nicht ab oder verstößt er / sie gegen die \ngeltenden Regeln, wird er / sie für die darauffolgenden 24 Stunden (Nacht + Tag) gesperrt.\nDie Sperre eines Spielers / einer Spielerin wird durch die Spielleitung verhängt und in der\nWerwolf-Spielgruppe bekanntgegeben. Das Recht zum Sperren von Spielern / Spielerinnen in begründeten Fällen, \nbleibt der Spielleitung vorbehalten. Ist ein Spieler / eine Spielerin drei Tage in Folge gesperrt,\nso stirbt sein / ihr Charakter im Spiel. \n\n## 5. Besondere Rollen in der Dorfgemeinschaft\n\n{{#each rollen.evil}}\n{{#count amount}}![](./assets/roles/{{icon}}.png =50x50){{/count}}\n{{/each}}\n{{#each rollen.good}}\n{{#count amount}}![](./assets/roles/{{icon}}.png =50x50){{/count}}\n{{/each}}\n{{#each rollen.unknown}}\n{{#count amount}}![](./assets/roles/{{icon}}.png =50x50){{/count}}\n{{/each}}\n\n{{#if rollen.evil}}\n#### 5.1. Rollen mit böser Gesinnung\nDorfbewohner / Dorfbewohnerinnen mit böser oder dunkler Gesinnung sind Werwölfe. Sie setzen sich aus den unten\nfolgenden Rollen zusammen. Sie gewinnen, wenn alle Dorfbewohner / Dorfbewohnerinnen\nmit guter Gesinnung erfolgreich bekämpft worden sind. Sie kennen sich gegenseitig und müssen sich in der nachts \naktivierten Sondergruppe „Werwölfe“ über eine Telegram-Abstimmung mit der Auswahloption „Spielleiter“ \nbis spätestens {{model.zeiten.zeit_ende_rollen_nacht1}} Uhr auf ein Opfer einigen, \ndas von den Werwölfen getötet werden soll. Stirbt ein Werwolf \nin der Nacht, so stirbt er erst zu Tagesbeginn und wird in die Gruppe der bösen Geister aufgenommen.\n\n{{#each rollen.evil}}\n{{list-number @index}}. **{{name}}** {{handleTemplate @root}}\n{{/each}}\n{{/if}}\n\n{{#if rollen.good}}\n#### 5.2. Rollen mit guter Gesinnung\nDorfbewohner / Dorfbewohnerinnen mit guter Gesinnung besitzen verschiedene Fähigkeiten. Sie gewinnen,\nwenn sie alle Dorfbewohner / Dorfbewohnerinnen mit böser Gesinnung (Werwölfe) erfolgreich bekämpft haben. \nGrundsätzlich haben die nachtaktiven Sonderrollen ihre Entscheidung über ihre Fähigkeiten, \nwenn nicht anders angegeben, bis spätestens {{model.zeiten.zeit_ende_rollen_nacht1}} Uhr zu treffen \nund per Privatnachricht der Spielleitung mitzuteilen. \nStirbt ein Dorfbewohner in der Nacht, so bleibt seine Fähigkeit bis zum Beginn des Tages erhalten. \nDer Verstorbene wird erst mit Tagesbeginn in die Geistergruppe aufgenommen. \n\n{{#each rollen.good}}\n{{list-number @index}}. **{{name}}** {{handleTemplate @root}}\n{{/each}}\n{{/if}}\n\n{{#if rollen.unknown}}\n#### 5.3. Rollen mit ungewisser Gesinnung\nUnter den Dorfbewohnern / Dorfbewohnerinnen leben auch Personen, deren Identität nicht eindeutig ist oder sich \nwährend des Spiels verändern kann. Zu diesen zählen der Jägerhund, der Doppelgänger / die Doppelgängerin und der Dieb.\n\n{{#each rollen.unknown}}\n{{list-number @index}}. **{{name}}** {{handleTemplate @root}}\n{{/each}}\n{{/if}}\n\n#### 5.4. Der Bürgermeister / die Bürgermeisterin\nVor der ersten Nacht wählen die Dorfbewohner / Dorfbewohnerinnen einen Bürgermeister / eine Bürgermeisterin. \nMitglieder von Sondergruppen (Werwolf- und Jäger-Gruppe) kennen sich vor der Verkündung des Ergebnisses der \nBürgermeisterwahl nicht. Bis spätestens {{model.rollen.buergermeister.zeit_kandidaten}} Uhr haben \nsie hierfür Zeit geeignete Kandidaten / Kandidatinnen \nvorzuschlagen. Die Kandidaten / Kandidatinnen müssen entsprechend einer Anklage, siehe Kap. 4.1., im Chatverlauf\nder Dorfgruppe mit @name des Kandidaten / der Kandidatin und per Privatnachricht der Spielleitung gemeldet werden. \nDie Kandidaten / Kandidatinnen müssen ebenfalls im Chatverlauf und per Privatnachricht den Vorschlag annehmen, \ndass sie sich zum Bürgermeister / zur Bürgermeisterin wählen lassen. Bis spätestens \n{{model.rollen.buergermeister.zeit_kandidaten_reden}}  Uhr haben die Kandidaten\n/ Kandidatinnen Zeit analog zu Plädoyers, siehe Kap. 4.3., Wahlkampf zu betreiben,\nbevor ab {{model.rollen.buergermeister.zeit_abstimmung}} Uhr die Abstimmung\nbeginnt, an der alle Spieler / Spielerinnen gemäß Kap. 4.4. teilnehmen müssen! Die Abstimmung endet um \n{{model.rollen.buergermeister.zeit_abstimmung_ende}} Uhr.\nDer neugewählte Bürgermeister ist in den ersten beiden Nächten immun gegen Angriffe von Werwölfen. \nStirbt der Bürgermeister, so folgt die im Testament des verstorbenen Bürgermeisters bestimmte Person im Amt. \nDiese ist gegen Werwolfangriffe aber nicht mehr geschützt.\n\n## 6. Spielgruppen - Sondergruppen\n\n#### 6.1. Dorfgruppe\nIn der Dorfgruppe als Werwolf-Spielgruppe finden Diskussionen und Anklagen von Dorfbewohnern / Dorfbewohnerinnen statt.\nHier werden Informationen seitens der Spielleitung bekanntgegeben und Abstimmungen im Rahmen der Justiz durchgeführt. \nWährend der Abstimmungen wird die Dorfgruppe durch die Spielleitung deaktiviert. Außer der Spielleitung dürfen neben \nGIFs keinerlei andere Medien wie Screenshots eingesetzt werden. Die wortgenaue Weiterleitung einer Information der\nSpielleitung, die ein Spieler / eine Spielerin per Privatnachricht erhalten hat, ist nicht zulässig.\n\n#### 6.2. Sondergruppen\nEinige Sonderrollen werden, um miteinander diskutieren und eine strategische Spielweise besprechen zu können,\nin Sondergruppen eingeteilt.\n\n#### 6.2.1. Werwolf-Gruppe\nIn dieser Gruppe tauschen sich Werwölfe untereinander aus und einigen sich bis spätestens \n{{model.zeiten.zeit_ende_rollen_nacht1}} Uhr auf ein Opfer,\ndas getötet werden soll. Die Werwolf-Gruppe ist zwischen {{model.zeiten.zeit_beginn_nacht1}} Uhr und \n{{model.zeiten.zeit_beginn_tag}} Uhr aktiv, am Tag wird sie durch\ndie Spielleitung deaktiviert. Die wortgenaue Weiterleitung einer Information der Spielleitung in diese Gruppe, \ndie ein Spieler / eine Spielerin per Privatnachricht erhalten hat, ist nicht zulässig.\n\n{{#if model.spielgruppen.jaeger_gruppe.aktiv}}\n#### 6.2.2. Jäger-Gruppe\nIn dieser Gruppe tauschen sich der Jäger / die Jägerin und der Jägerhund aus. Mit dem Tod des Jägers /\nder Jägerin wird die Gruppe geschlossen, der Jägerhund wechselt zur Werwolf-Gruppe. \nDie wortgenaue Weiterleitung einer Information der Spielleitung in diese Gruppe, die ein Spieler /\neine Spielerin per Privatnachricht erhalten hat, ist nicht zulässig.\n{{/if}}\n\n{{#if model.spielgruppen.liebespaar_gruppe.aktiv}}\n#### 6.2.3. Liebespaar-Gruppe\nDas vom Amor auserwählte Liebespaar trifft sich in der Liebespaar-Gruppe, um sich auszutauschen und taktisches \nVorgehen zu besprechen. Die Gruppe ist sowohl nachts als auch tagsüber aktiv und wird mit dem Tod des Liebespaars \ngeschlossen. Die wortgenaue Weiterleitung einer Information der Spielleitung in diese Gruppe, die ein Spieler /\neine Spielerin per Privatnachricht erhalten hat, ist nicht zulässig.\n{{/if}}\n\n{{#if model.spielgruppen.gute_geister.aktiv}}\n#### 6.2.4. Gruppe der guten Geister\nNach dem Tod eines Dorfbewohners / einer Dorfbewohnerin mit guter Gesinnung gelangt dieser / diese in den Himmel\nund wird in der Gruppe der guten Geister aufgenommen. Die guten Geister dürfen jede Nacht ab \n{{model.zeiten.zeit_ende_rollen_nacht1}} Uhr eine Nachricht\nan eine noch lebende Person ihrer Wahl versenden. Ebenso dürfen sie jede zweite Nacht die Rolle einer noch lebenden\nPerson ihrer Wahl erfahren. Ihre zu verschickende Nachricht haben sie direkt an die Spielleitung zu richten, \ndie die Nachricht der adressierten Person zustellt. Die Gruppe der guten Geister ist Tag und Nacht aktiv.\n{{/if}}\n\n{{#if model.spielgruppen.boese_geister.aktiv}}\n#### 6.2.5. Gruppe der bösen Geister\nNach dem Tod eines Dorfbewohners / einer Dorfbewohnerin mit böser, dunkler Gesinnung gelangt dieser / diese \nin die Gruppe der bösen Geister. Die bösen Geister dürfen jede Nacht eine Nachricht ausschließlich an die Werwölfe\nversenden. Ebenso dürfen sie jede zweite Nacht die Rolle einer von ihnen ausgewählten, noch lebenden Person raten.\nDies bedeutet, dass die bösen Geister eine Wunschperson namentlich benennen und ihre mögliche Rolle raten müssen.\nDie Antwort erfahren sie symbolisch in Form eines nach oben oder nach untern gerichteten Daumens. Die Gruppe ist\nsowohl nachts als auch tagsüber aktiv.\n{{/if}}\n\n<br><br>\n<span style=\"text-align:right; display: block\">Viel Spaß und Erfolg!\n<br>Eure Spielleitung</span>\n<br><br>\n\n`,\n}\n","import { Manual } from \"./ManualModel\";\r\nimport ManualTemplate from \"@/services/ManualTemplate\";\r\nimport Rollen from \"@/services/Rollen\";\r\nimport {ReplaySubject} from \"rxjs\";\r\nconst Handlebars = require(\"handlebars\")\r\n\r\nconst yaml = require(\"js-yaml\")\r\n\r\nHandlebars.registerHelper(\"list-number\", function(s) {\r\n    return parseInt(s) + 1\r\n})\r\n\r\nHandlebars.registerHelper(\"handleTemplate\", function(root) {\r\n    let template = Handlebars.compile(this.template)\r\n    return template({\r\n        root: root,\r\n        local: this\r\n    })\r\n})\r\nHandlebars.registerHelper(\"handlebars\", function(root, options) {\r\n    let template = Handlebars.compile(options.fn(root))\r\n    return template({\r\n        root: root,\r\n        local: this\r\n    })\r\n})\r\n\r\nHandlebars.registerHelper(\"handlebars\", function(root, template, raw){\r\n    return Handlebars.compile(template)(root)\r\n})\r\nHandlebars.registerHelper(\"count\", function(context, shouldDo, options) {\r\n    let ret = \"\"\r\n    if(shouldDo){\r\n        for(let i = 0; i < context; i++){\r\n            ret += options.fn(this)\r\n        }\r\n    }else{\r\n        ret = options.fn(this)\r\n    }\r\n    return ret;\r\n})\r\nHandlebars.registerHelper(\"is\", function(property, value, options) {\r\n    return property === value ? options.fn(this) : \"\";\r\n})\r\nHandlebars.registerHelper(\"gt\", function(property, value, options) {\r\n    return property > value ? options.fn(this) : \"\";\r\n})\r\n\r\nexport default {\r\n    currentVersion: 1,\r\n    man: new Manual(),\r\n    defaults: {},\r\n    template: `### Vorlage wird geladen`,\r\n    ready: new ReplaySubject(1),\r\n    loadTemplates(){\r\n        Promise.all([\r\n            fetch(\"./assets/manual/template.md\").then(res => res.text()),\r\n            // fetch(\"./assets/manual/rollen.json\").then(res => res.json()),\r\n            fetch(\"./assets/manual/roles.yaml\").then(res => res.text()),\r\n            // fetch(\"./assets/manual/defaults.json\").then(res => res.json()),\r\n            fetch(\"./assets/manual/defaults.yaml\").then(res => res.text()),\r\n            fetch(\"./assets/manual/manual.yaml\").then(res => res.text()),\r\n        ]).then(results => {\r\n            let template = results[0]\r\n            let rollen = this.parseYAMLRoles(results[1]);\r\n            let defaults = yaml.load(results[2])\r\n            let manual = yaml.load(results[3])\r\n            this.template = template\r\n            Rollen.rollen = rollen\r\n            this.defaults = defaults\r\n            console.log(manual)\r\n            this.man.apply(manual)\r\n            this.updateRoleTemplates()\r\n            this.ready.next()\r\n\r\n            // let roles = yaml.load(results[3])\r\n            // console.log(roles)\r\n        })\r\n    },\r\n    parseYAMLRoles(yamlData){\r\n        let parsed = yaml.load(yamlData)\r\n        let roles = []\r\n        for(let role in parsed){\r\n            parsed[role].name = role\r\n            roles.push(parsed[role])\r\n        }\r\n        return roles\r\n    },\r\n    loadModel(id) {\r\n        if(id === \"\") return\r\n        return fetch(\"http://localhost:8081/preset/\" + id)\r\n            .then(res => res.json())\r\n            .then(man => {\r\n                this.man.apply(man)\r\n                this.updateRoleTemplates()\r\n            })\r\n    },\r\n    createMarkdown(save) {\r\n        if(save === undefined) save = true\r\n        let template = Handlebars.compile(this.template)\r\n        // this.updateRoleTemplates()                       // If roles get weird, uncomment this\r\n        let context = this.createContext()\r\n\r\n        if(save){\r\n            this.saveToLocalStorage().then(done => {})\r\n        }\r\n\r\n        return template(context)\r\n    },\r\n    createContext(){\r\n      return {\r\n          model: this.man,\r\n          rollen: {\r\n              good: this.man.rollen.aktiviert.filter(r => r.attitude === Rollen.Attitude.GOOD),\r\n              evil: this.man.rollen.aktiviert.filter(r => r.attitude === Rollen.Attitude.EVIL),\r\n              unknown: this.man.rollen.aktiviert.filter(r => r.attitude === Rollen.Attitude.UNKNOWN),\r\n          },\r\n          defaults: this.defaults\r\n      }\r\n    },\r\n    updateRoleTemplates(){\r\n      for(let role of this.man.rollen.aktiviert){\r\n          let updatedRole = Rollen.rollen.find(r => r.name === role.name)\r\n          if(!updatedRole) continue\r\n          role.template = updatedRole.template\r\n          role.icon = updatedRole.icon\r\n          role.score = updatedRole.score\r\n          role.escalation = updatedRole.escalation\r\n          for(let key in updatedRole.other){\r\n              role.other[key] = {\r\n                  name: updatedRole.other[key].name,\r\n                  type: updatedRole.other[key].type,\r\n                  value: role.other[key] ? role.other[key].value : updatedRole.other[key].value,\r\n                  options: updatedRole.other[key].options\r\n              }\r\n          }\r\n          if(role.name === \"Der Seher\")\r\n              console.log(role)\r\n      }\r\n    },\r\n    fixModel(){\r\n\r\n    },\r\n    loadFromLocalStorage(){\r\n        let man = JSON.parse(localStorage.getItem(\"manual\"))\r\n        if(!man) return\r\n        this.upgradeManual(man)\r\n        this.man.apply(man)\r\n    },\r\n    saveToLocalStorage(){\r\n        return new Promise(resolve => {\r\n            localStorage.setItem(\"manual\", JSON.stringify(this.man))\r\n            resolve()\r\n        })\r\n    },\r\n    checkForMistakes() {\r\n        let man = this.man\r\n        function checkRole(name){ return man.rollen.aktiviert.find(r => r.name === name)}\r\n        let errors = []\r\n\r\n        let amount = 0;\r\n        let score = 0;\r\n        for(let role of this.man.rollen.aktiviert){\r\n            amount += role.amount\r\n            score += role.score * role.amount\r\n        }\r\n\r\n        if(score <= -4) errors.push({level: 1, msg: \"Das Spiel könnte zu schwer sein.\"})\r\n        if(score >= 4) errors.push({level: 1, msg: \"Das Spiel könnte zu leicht sein.\"})\r\n        if(amount <= 5) errors.push({level: 1, msg: \"Es sind etwas wenig Rollen (\" + amount + \").\"})\r\n\r\n        let jaegerIncluded = this.man.rollen.aktiviert.find(r => r.name === \"Der Jäger\")\r\n        let jaegerhundIncluded = this.man.rollen.aktiviert.find(r => r.name === \"Der Jägerhund\")\r\n        if(jaegerhundIncluded && !jaegerIncluded){\r\n            errors.push({level: 2, msg: \"Der Jägerhund kann nicht ohne den Jäger verwendet werden.\"})\r\n        }\r\n\r\n        if(checkRole(\"Der Spanner\")){\r\n            errors.push({level: 1, msg: \"Der Spanner: Im Regelwerk ist noch nicht deutlich geklärt, welche Figuren sich in der Nacht zuhause befinden.\"})\r\n        }\r\n\r\n\r\n        return errors\r\n    },\r\n    scoreColorAlt(score, worst, best){\r\n        if(!worst) worst = -6\r\n        if(!best) best = 6\r\n        let y = (1/(best - worst)) * score - (worst / (best - worst))\r\n        y = Math.min(Math.max(y, 0), 1);\r\n\r\n        return `hsla(${200 * y}, 100%, 50%, 0.5)`\r\n    },\r\n    scoreColor(score, worst, best, invert){\r\n        if(invert === undefined) invert = false\r\n        if(!worst) worst = -4\r\n        if(!best) best = 4\r\n        let color = score >= 0 ? 100 : 0\r\n        let base = score >= 0 ? best : worst\r\n\r\n        return `hsla(${color}, 100%, 50%, ${(0.25 + 0.25 * (score/base))})`\r\n    },\r\n    calculateColor(value, low, high){\r\n        if(!low) low = -6\r\n        if(!high) high = 6\r\n        let y = (1/(high - low)) * value - (low / (high - low))\r\n        y = Math.min(Math.max(y, 0), 1);\r\n\r\n        return `hsla(${200 * y}, 100%, 50%, 0.5)`\r\n    },\r\n    upgradeManual(man){\r\n        if(man.version < this.currentVersion) throw new Error(\"Cannot downgrade to lower version!\")\r\n\r\n        // man\r\n\r\n    }\r\n}","\n<script>\nimport { h } from 'vue'\nexport default {\n    name: \"VStyle\",\n    render() {\n        // console.log(\"Render\", this.$slots.default())\n        return h('style', {}, this.$slots.default ? this.$slots.default() : [])\n    },\n    created(){\n        console.log(\"Created\")\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n\n</style>","import script from \"./VStyle.vue?vue&type=script&lang=js\"\nexport * from \"./VStyle.vue?vue&type=script&lang=js\"\nscript.__scopeId = \"data-v-634fc15e\"\n\nexport default script","import { render } from \"./ManualPreview.vue?vue&type=template&id=08cd4350\"\nimport script from \"./ManualPreview.vue?vue&type=script&lang=js\"\nexport * from \"./ManualPreview.vue?vue&type=script&lang=js\"\n\nimport \"./ManualPreview.vue?vue&type=style&index=0&id=08cd4350&lang=less\"\nscript.render = render\n\nexport default script","<template>\n\n  <div class=\"container\" :style=\"{height: containerHeight() + 'px'}\" :class=\"{collapsed: isCollapsed, noTransition: noTransition}\" @resize=\"onResize\">\n\n    <div class=\"header\" @click=\"toggle\" ref=\"header\">\n      <slot name=\"header\" v-if=\"$slots['header']\"></slot>\n      <template v-else>\n        <img v-if=\"img\" :src=\"img\"/>\n        <i v-else class=\"material-icons\" style=\"display: inline-block; width: 40px; opacity: 0.5\">{{icon}}</i>\n        <strong class=\"title\">{{title}}</strong>\n        <div class=\"icons\">\n          <i class=\"material-icons icon\" v-if=\"secondOption\" @click.capture.stop=\"$emit('option')\">{{secondOption}}</i>\n          <i class=\"material-icons icon toggle\">keyboard_arrow_down</i>\n        </div>\n      </template>\n    </div>\n    <div class=\"content\" ref=\"content\">\n      <slot></slot>\n    </div>\n\n\n  </div>\n\n</template>\n\n<script>\nexport default {\n  name: \"CollapsibleDiv\",\n  props: {\n    title: String,\n    collapsed: {\n      type: Boolean,\n      default: true\n    },\n    disabled: false,\n    icon: \"\",\n    img: \"\",\n    secondOption: {\n      type: String,\n      default: null\n    }\n  },\n  data(){\n    return {\n      isCollapsed: this.collapsed,\n      headerHeight: 0,\n      contentHeight: 0,\n      resizeObserver: null,\n      mutationObserver: null,\n      noTransition: false\n    }\n  },\n  mounted() {\n    this.headerHeight = this.$refs[\"header\"].clientHeight\n    this.contentHeight = this.$refs[\"content\"].clientHeight\n\n    this.resizeObserver = new ResizeObserver(entries => {\n      this.noTransition = true\n      for(let entry of entries){\n        if(entry.target.classList.contains(\"header\")){\n          this.headerHeight = entry.target.clientHeight\n        }else{\n          this.contentHeight = entry.target.clientHeight\n        }\n      }\n      setTimeout(() => {\n        this.noTransition = false\n      }, 110)\n    })\n    this.resizeObserver.observe(this.$refs[\"content\"])\n    this.resizeObserver.observe(this.$refs[\"header\"])\n  },\n  methods: {\n    toggle(){\n      if(this.disabled) return;\n      this.isCollapsed = !this.isCollapsed\n    },\n    containerHeight() {\n      return this.isCollapsed ? this.headerHeight : this.headerHeight + this.contentHeight\n      // return 0\n    },\n  }\n}\n</script>\n\n<style lang=\"less\">\n\n.container{\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  transition: 300ms height cubic-bezier(0.25, 1, 0.5, 1);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  &.noTransition{\n    transition: 000ms height cubic-bezier(0.25, 1, 0.5, 1);\n  }\n\n  .header{\n    display: flex;\n    align-items: center;\n    padding: 0 20px;\n    cursor: pointer;\n    background: rgb(26, 31, 44);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n    user-select: none;\n    position: relative;\n    overflow: hidden;\n    z-index: 1;\n\n    img{\n      position: relative;\n      margin-left: -10px;\n      display: inline-block;\n      height: 45px;\n      //width: 40px;\n      flex-shrink: 0;\n      margin-right: 25px;\n      //border: 2px solid hsla(247, 63%, 8%, 0.3);\n      //background: hsla(247, 63%, 16%, 0.3);\n    }\n\n    & > i{\n      flex-shrink: 0;\n    }\n\n    .title{\n      width: 100%;\n      padding: 15px 0;\n    }\n    .icons{\n      flex-shrink: 0;\n      height: 100%;\n\n      .icon{\n        display: inline-flex;\n        align-items: center;\n        height: 100%;\n        padding: 0 13px;\n        transition: 200ms all;\n        &:not(.toggle):hover{\n          background: rgba(255, 255, 255, 0.1);\n        }\n        &.toggle{\n          transform: rotate(180deg);\n        }\n      }\n\n    }\n\n  }\n  .content{\n    z-index: 0;\n    padding: 10px 20px 20px;\n    border-top: none;\n    border-bottom: none;\n  }\n\n  &.collapsed .header .icon.toggle{\n    transform: rotate(0deg);\n  }\n}\n\n</style>","import { render } from \"./CollapsibleDiv.vue?vue&type=template&id=0981b8f8\"\nimport script from \"./CollapsibleDiv.vue?vue&type=script&lang=js\"\nexport * from \"./CollapsibleDiv.vue?vue&type=script&lang=js\"\n\nimport \"./CollapsibleDiv.vue?vue&type=style&index=0&id=0981b8f8&lang=less\"\nscript.render = render\n\nexport default script","<template>\n\n  <div>\n    <div class=\"container\" :class=\"classContainer\">\n      <span class=\"label\" v-if=\"label\">{{ label }}</span>\n      <input\n          v-model=\"value\"\n          :type=\"type\"\n          @focusin=\"isFocused = true\"\n          @focusout=\"isFocused = false\"\n          @keyup.enter=\"$emit('submit', value)\"\n          @change=\"$emit('change', value)\"\n          ref=\"input\">\n      <div class=\"background\"></div>\n    </div>\n    <div class=\"error-container\" v-if=\"error\">\n      <i class=\"material-icons\">error</i> <span class=\"error-text\">  {{ error }}  </span>\n    </div>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  name: \"InputField\",\n  emits: [\"submit\", \"change\"],\n  props: {\n    type: String,\n    label: String,\n    value: {\n      type: String,\n      default: \"\"\n    },\n    error: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      isFocused: false,\n    }\n  },\n  computed: {\n    classContainer() {\n      return {\n        \"has-input\": this.isFocused || this.value !== \"\",\n        focused: this.isFocused,\n        error: this.error\n      }\n    }\n  },\n  methods: {\n    focus(){\n      this.$refs.input.focus()\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n\n.container{\n  position: relative;\n  margin: 20px 10px 10px;\n  font-size: 16px;\n\n  .label{\n    position: absolute;\n    top: calc(50% - 17px);\n    left: 13px;\n    z-index: 2;\n    color: #818181;\n    background: #ffffff;\n    pointer-events: none;\n    padding: 5px 7px;\n    transition: all 200ms;\n    transform-origin: left center;\n  }\n\n  input{\n    position: relative;\n    box-shadow: none;\n    border: 0;\n    padding: 20px 10px;\n    min-width: 300px;\n    font-size: 16px;\n    z-index: 1;\n    background: transparent;\n  }\n\n  .background{\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    border: 1px solid #c1c1c1;\n    z-index: 0;\n    border-radius: 5px;\n    transition: all 100ms;\n  }\n\n  &.focused {\n    .label{\n      color: var(--color-primary);\n    }\n    .background{\n      top: -1px;\n      left: -1px;\n      border: 3px solid var(--color-primary);\n    }\n  }\n  &.has-input{\n    .label{\n      top: -14px;\n      font-size: 12px;\n    }\n  }\n  &.error{\n    .label{\n      color: var(--color-error);\n    }\n    .background{\n      border: 2px solid var(--color-error);\n    }\n  }\n}\n\n.error-container{\n  display: flex;\n  align-items: center;\n  color: var(--color-error);\n  text-align: left;\n  width: 100%;\n  font-size: 14px;\n  font-weight: 600;\n  padding-left: 4px;\n\n  i{\n    font-size: 18px;\n  }\n  span{\n    margin-left: 6px;\n  }\n}\n\n\n</style>","import { render } from \"./InputField.vue?vue&type=template&id=d14dbbec&scoped=true\"\nimport script from \"./InputField.vue?vue&type=script&lang=js\"\nexport * from \"./InputField.vue?vue&type=script&lang=js\"\n\nimport \"./InputField.vue?vue&type=style&index=0&id=d14dbbec&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-d14dbbec\"\n\nexport default script","<template>\n</template>\n\n<script>\nexport default {\nname: \"Button\"\n}\n</script>\n\n<style scoped>\n\n</style>","import { render } from \"./Button.vue?vue&type=template&id=bb9236b8&scoped=true\"\nimport script from \"./Button.vue?vue&type=script&lang=js\"\nexport * from \"./Button.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-bb9236b8\"\n\nexport default script","<template>\n\n</template>\n\n<script>\nexport default {\n  name: \"lazy-load\",\n  mounted(el, binding) {\n    doLazyLoad(el, binding.value)\n  },\n  updated(el, binding) {\n    doLazyLoad(el, binding.value)\n  }\n}\n\nfunction doLazyLoad(el, url){\n  lazyLoadImage(url).then(() => {\n    el.classList.add(\"lazy-loaded\")\n    if(el.nodeName === \"IMG\"){\n\n    }else{\n      el.style.backgroundImage = \"url(\" + url + \")\"\n    }\n  })\n}\n\nfunction lazyLoadImage(url){\n  return new Promise((resolve, reject) => {\n    let img = new Image();\n    img.onload = function() {\n      resolve()\n    }\n    img.onerror = function() {\n      reject()\n    }\n    img.src = url\n  })\n}\n</script>\n","import { render } from \"./LazyLoadImage.vue?vue&type=template&id=b221b566\"\nimport script from \"./LazyLoadImage.vue?vue&type=script&lang=js\"\nexport * from \"./LazyLoadImage.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <collapsible-div>\n    <template #header>\n      <img :src=\"roleIcon(role)\"/>\n      <strong class=\"title\">{{role.score + ' | ' + role.name}}</strong>\n      <div class=\"icons\">\n        <i class=\"material-icons icon\" @click.capture.stop=\"$emit('add-role')\">add</i>\n        <i class=\"material-icons icon toggle\">keyboard_arrow_down</i>\n      </div>\n    </template>\n    <div class=\"split\">\n      <div class=\"image\" :style=\"{backgroundImage: 'url(' + roleIcon(role) + ')'}\"></div>\n      <div class=\"side\">\n        <h3 style=\"font-weight: 700\">{{role.name}}</h3>\n        <p>Bewertung: <span class=\"amount-roles\" :style=\"{ background: scoreColor(role.score, -8, 8)}\">{{role.score}}</span></p>\n        <p>Eskalationsfaktor: <span class=\"amount-roles\" :style=\"{ background: scoreColor(-role.escalation, -5, 0)}\">{{role.escalation}}</span></p>\n        <span class=\"description\">{{template}}</span>\n      </div>\n    </div>\n  </collapsible-div>\n</template>\n\n<script>\nimport Rollen from \"../services/Rollen\";\nimport CollapsibleDiv from \"./CollapsibleDiv\";\nimport ManualCreator from \"../services/ManualCreator\";\n\nexport default {\nname: \"RoleCard\",\n  props: {\n    role: Object\n  },\n  components: {\n    CollapsibleDiv,\n  },\n  emits: [\"add-role\"],\n  data() {\n    return {\n      template: \"\"\n    }\n  },\n  methods: {\n    roleIcon(role){\n      return \"./assets/roles/\" + role.icon + \".png\"\n    },\n    scoreColor(score, worst, best){ return ManualCreator.scoreColor(score, worst, best) },\n    calculateColor(score, low, high){ return ManualCreator.calculateColor(score, low, high) }\n  },\n  mounted() {\n    this.template = Rollen.renderTemplate(this.role)\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n\n.container .content{\n  padding: 0;\n}\n\n.description::first-letter{\n  text-transform: capitalize;\n}\n\n.description{\n  overflow-wrap: anywhere;\n  text-align: justify;\n}\n\n.split{\n  display: flex;\n  .image{\n    width: 100px;\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center;\n    flex-shrink: 0;\n    margin-top: 20px;\n    margin-right: 20px;\n  }\n  .side{\n    width: 100%;\n  }\n\n  @media(max-width: 510px){\n    flex-wrap: wrap;\n    .image{\n      width: 100%;\n      height: 100px;\n    }\n  }\n}\n</style>","import { render } from \"./RoleCard.vue?vue&type=template&id=72c726c3&scoped=true\"\nimport script from \"./RoleCard.vue?vue&type=script&lang=js\"\nexport * from \"./RoleCard.vue?vue&type=script&lang=js\"\n\nimport \"./RoleCard.vue?vue&type=style&index=0&id=72c726c3&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-72c726c3\"\n\nexport default script","<template>\n\n</template>\n\n<script>\nimport {createPopper} from \"@popperjs/core\";\nimport tippy from \"tippy.js\"\nimport 'tippy.js/dist/tippy.css';\n\nexport default {\n  name: \"tooltip\",\n  mounted(el, binding) {\n    init(el, binding)\n  },\n  updated(el, binding) {\n  }\n}\n\nfunction init(el, binding){\n\n  let timeout = null\n  let tooltip = null\n\n  el.style.cursor = \"pointer\";\n\n  tippy(el, {\n    content: binding.value.toString(),\n    hideOnClick: false,\n  })\n\n\n  // el.addEventListener(\"mouseenter\", ev => {\n  //   if(!timeout){\n  //     timeout = setTimeout(() => {\n  //       timeout = null\n  //       if(!tooltip){\n  //         tooltip = document.createElement(\"div\")\n  //         tooltip.classList.add(\"tooltip\")\n  //\n  //         tooltip.innerHTML = `<div class=\"triangle\"></div><span>${binding.value}</span>`\n  //\n  //         document.body.appendChild(tooltip)\n  //\n  //         createPopper(el, tooltip, {\n  //           placement: \"bottom\",\n  //           modifiers: [\n  //             {\n  //               name: \"offset\",\n  //               options: {\n  //                 offset: [0, 4]\n  //               }\n  //             }\n  //           ]\n  //         })\n  //         console.log(\"Entering\")\n  //         tooltip.classList.add(\"enter\")\n  //       }\n  //     }, 500)\n  //   }\n  // })\n  //\n  // el.addEventListener(\"mouseleave\", ev => {\n  //   clearTimeout(timeout)\n  //   timeout = null\n  //   if(tooltip){\n  //     tooltip.classList.add(\"exit\")\n  //     setTimeout(() => {\n  //       tooltip.remove()\n  //       tooltip = null\n  //     }, 100)\n  //   }\n  // })\n\n}\n\n</script>\n","import { render } from \"./Tooltip.vue?vue&type=template&id=01941058\"\nimport script from \"./Tooltip.vue?vue&type=script&lang=js\"\nexport * from \"./Tooltip.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=48dda694\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=48dda694&lang=less\"\nscript.render = render\n\nexport default script","import { createApp } from 'vue'\nimport App from './App.vue'\n\n\n\nString.prototype.replaceAll = function(str, repl){\n    return this.replace(new RegExp(str, \"g\"), repl)\n}\n\ncreateApp(App).mount('#app')\n\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RoleCard.vue?vue&type=style&index=0&id=72c726c3&scoped=true&lang=less\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=48dda694&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ManualPreview.vue?vue&type=style&index=0&id=08cd4350&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./InputField.vue?vue&type=style&index=0&id=d14dbbec&scoped=true&lang=less\""],"sourceRoot":""}